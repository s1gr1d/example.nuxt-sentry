import{c as or,d as Zs,a as Lt,S as Qs,b as eo,m as Li,D as G,l as N,u as Et,e as Lr,i as ir,f as Or,r as Ae,s as Oi,g as Nr,h as Ni,j as Fi,k as Pi,n as Bi,o as $i,p as to,q as no,t as Ui,v as Hi,w as qe,x as _n,y as nn,z as Wi,A as zi,B as Nn,C as Fr,E as ji,F as ro,G as qi,H as Fn,I as gn,J as Pr,K as Br,L as Yi,M as $r,N as Q,O as Oe,P as so,Q as Be,R as Ot,T as Pn,U as Xi,V as oo,W as io,X as He,Y as Vi,Z as Ee,_ as Ur,$ as ao,a0 as Hr,a1 as rn,a2 as co,a3 as Wr,a4 as Gi,a5 as zr,a6 as Ki,a7 as ar,a8 as Ji,a9 as Zi,aa as ne,ab as Re,ac as jr,ad as Qi,ae as Bn,af as ea,ag as lt,ah as ta,ai as na,aj as cr,ak as It,al as ur,am as ra,an as uo,ao as In,ap as qr,aq as xt,ar as dt,as as Yr,at as Xr,au as sa,av as lo,aw as fo,ax as oa,ay as ia,az as Nt,aA as aa,aB as ca,aC as ua,aD as ho,aE as la,aF as Vr,aG as da,aH as fa,aI as ha,aJ as pa,aK as ma,aL as _a,aM as ga,aN as ya,aO as ba,aP as po,aQ as va,aR as Sa,aS as Ea,aT as wa,aU as Gr,aV as ka,aW as Ca}from"./ttXgE4so.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="480aa0fd-c00d-4582-a4de-6fe5148e0abd",e._sentryDebugIdIdentifier="sentry-dbid-480aa0fd-c00d-4582-a4de-6fe5148e0abd")}catch{}})();const Ia="7";function xa(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Ta(e){return`${xa(e)}${e.projectId}/envelope/`}function Ma(e,t){const n={sentry_version:Ia};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function Ra(e,t,n){return t||`${Ta(e)}?${Ma(e,n)}`}function Da(e,t,n){const r=[{type:"client_report"},{timestamp:Zs(),discarded_events:e}];return or(t?{dsn:t}:{},[r])}class Se extends Error{constructor(t,n="warn"){super(t),this.message=t,this.logLevel=n}}function mo(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n!=null&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function Aa(e){var c;const{trace_id:t,parent_span_id:n,span_id:r,status:s,origin:o,data:i,op:a}=((c=e.contexts)==null?void 0:c.trace)??{};return Lt({data:i??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:s,timestamp:e.timestamp,trace_id:t??"",origin:o,profile_id:i==null?void 0:i[Qs],exclusive_time:i==null?void 0:i[eo],measurements:e.measurements,is_segment:!0})}function La(e){const t={type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[Qs]:e.profile_id},...e.exclusive_time&&{[eo]:e.exclusive_time}}}},measurements:e.measurements};return Lt(t)}const Kr="Not capturing exception because it's already been captured.",Jr="Discarded session because of missing or non-string release";class Oa{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Li(t.dsn):G&&N.warn("No DSN provided, client will not send events."),this._dsn){const n=Ra(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){const s=Et();if(Lr(t))return G&&N.log(Kr),s;const o={event_id:s,...n};return this._process(this.eventFromException(t,o).then(i=>this._captureEvent(i,o,r))),o.event_id}captureMessage(t,n,r,s){const o={event_id:Et(),...r},i=ro(t)?t:String(t),a=ir(t)?this.eventFromMessage(i,n,o):this.eventFromException(t,o);return this._process(a.then(c=>this._captureEvent(c,o,s))),o.event_id}captureEvent(t,n,r){const s=Et();if(n!=null&&n.originalException&&Lr(n.originalException))return G&&N.log(Kr),s;const o={event_id:s,...n},i=t.sdkProcessingMetadata||{},a=i.capturedSpanScope,c=i.capturedSpanIsolationScope;return this._process(this._captureEvent(t,o,a||r,c)),o.event_id}captureSession(t){this.sendSession(t),Or(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(s=>r&&s))):Ae(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];Oi(this,t,this._integrations),n||Nr(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Ni(t,this._dsn,this._options._metadata,this._options.tunnel);for(const o of n.attachments||[])r=Fi(r,Pi(o));const s=this.sendEnvelope(r);s&&s.then(o=>this.emit("afterSendEvent",t,o),null)}sendSession(t){const{release:n,environment:r=qi}=this._options;if("aggregates"in t){const o=t.attrs||{};if(!o.release&&!n){G&&N.warn(Jr);return}o.release=o.release||n,o.environment=o.environment||r,t.attrs=o}else{if(!t.release&&!n){G&&N.warn(Jr);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);const s=Bi(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(s)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){const s=`${t}:${n}`;G&&N.log(`Recording outcome: "${s}"${r>1?` (${r} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+r}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const s=r.indexOf(n);s>-1&&r.splice(s,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(s=>s(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(G&&N.error("Error while sending envelope:",n),n)):(G&&N.error("Transport disabled"),Ae({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=$i(this,t),Nr(this,t)}_updateSessionFromEvent(t,n){var c;let r=n.level==="fatal",s=!1;const o=(c=n.exception)==null?void 0:c.values;if(o){s=!0;for(const u of o){const d=u.mechanism;if((d==null?void 0:d.handled)===!1){r=!0;break}}}const i=t.status==="ok";(i&&t.errors===0||i&&r)&&(Or(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new to(n=>{let r=0;const s=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),n(!0)):(r+=s,t&&r>=t&&(clearInterval(o),n(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,s){const o=this.getOptions(),i=Object.keys(this._integrations);return!n.integrations&&(i!=null&&i.length)&&(n.integrations=i),this.emit("preprocessEvent",t,n),t.type||s.setLastEventId(t.event_id||n.event_id),no(o,t,n,r,this,s).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,n),a.contexts={trace:Ui(r),...a.contexts};const c=Hi(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r=qe(),s=_n()){return G&&$n(t)&&N.log(`Captured error event \`${mo(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,s).then(o=>o.event_id,o=>{G&&(o instanceof Se&&o.logLevel==="log"?N.log(o.message):N.warn(o))})}_processEvent(t,n,r,s){const o=this.getOptions(),{sampleRate:i}=o,a=_o(t),c=$n(t),u=t.type||"error",d=`before send for type \`${u}\``,l=typeof i>"u"?void 0:Fn(i);if(c&&typeof l=="number"&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error"),nn(new Se(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const f=u==="replay_event"?"replay":u;return this._prepareEvent(t,n,r,s).then(h=>{if(h===null)throw this.recordDroppedEvent("event_processor",f),new Se("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return h;const _=Fa(this,o,h,n);return Na(_,d)}).then(h=>{var b;if(h===null){if(this.recordDroppedEvent("before_send",f),a){const E=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",E)}throw new Se(`${d} returned \`null\`, will not send event.`,"log")}const p=r.getSession()||s.getSession();if(c&&p&&this._updateSessionFromEvent(p,h),a){const y=((b=h.sdkProcessingMetadata)==null?void 0:b.spanCountBeforeProcessing)||0,E=h.spans?h.spans.length:0,I=y-E;I>0&&this.recordDroppedEvent("before_send","span",I)}const _=h.transaction_info;if(a&&_&&h.transaction!==t.transaction){const y="custom";h.transaction_info={..._,source:y}}return this.sendEvent(h,n),h}).then(null,h=>{throw h instanceof Se?h:(this.captureException(h,{data:{__sentry__:!0},originalException:h}),new Se(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${h}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[s,o]=n.split(":");return{reason:s,category:o,quantity:r}})}_flushOutcomes(){G&&N.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){G&&N.log("No outcomes to send");return}if(!this._dsn){G&&N.log("No dsn provided, will not send outcomes");return}G&&N.log("Sending outcomes:",t);const n=Da(t,this._options.tunnel&&Wi(this._dsn));this.sendEnvelope(n)}}function Na(e,t){const n=`${t} must return \`null\` or a valid event.`;if(zi(e))return e.then(r=>{if(!Nn(r)&&r!==null)throw new Se(n);return r},r=>{throw new Se(`${t} rejected with ${r}`)});if(!Nn(e)&&e!==null)throw new Se(n);return e}function Fa(e,t,n,r){const{beforeSend:s,beforeSendTransaction:o,beforeSendSpan:i}=t;let a=n;if($n(a)&&s)return s(a,r);if(_o(a)){if(i){const c=i(Aa(a));if(c?a=ji(n,La(c)):Fr(),a.spans){const u=[];for(const d of a.spans){const l=i(d);l?u.push(l):(Fr(),u.push(d))}a.spans=u}}if(o){if(a.spans){const c=a.spans.length;a.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:c}}return o(a,r)}}return a}function $n(e){return e.type===void 0}function _o(e){return e.type==="transaction"}function Pa(e,t){t.debug===!0&&(G?N.enable():gn(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),qe().update(t.initialScope);const r=new e(t);return Ba(r),r.init(),r}function Ba(e){qe().setClient(e)}function $a(e){const t=[];function n(){return e===void 0||t.length<e}function r(i){return t.splice(t.indexOf(i),1)[0]||Promise.resolve(void 0)}function s(i){if(!n())return nn(new Se("Not adding Promise because buffer limit was reached."));const a=i();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function o(i){return new to((a,c)=>{let u=t.length;if(!u)return a(!0);const d=setTimeout(()=>{i&&i>0&&a(!1)},i);t.forEach(l=>{Ae(l).then(()=>{--u||(clearTimeout(d),a(!0))},c)})})}return{$:t,add:s,drain:o}}const Ua=60*1e3;function Ha(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?Ua:r-t}function Wa(e,t){return e[t]||e.all||0}function go(e,t,n=Date.now()){return Wa(e,t)>n}function yo(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},o=n==null?void 0:n["x-sentry-rate-limits"],i=n==null?void 0:n["retry-after"];if(o)for(const a of o.trim().split(",")){const[c,u,,,d]=a.split(":",5),l=parseInt(c,10),f=(isNaN(l)?60:l)*1e3;if(!u)s.all=r+f;else for(const h of u.split(";"))h==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(s[h]=r+f):s[h]=r+f}else i?s.all=r+Ha(i,r):t===429&&(s.all=r+60*1e3);return s}const za=64;function ja(e,t,n=$a(e.bufferSize||za)){let r={};const s=i=>n.drain(i);function o(i){const a=[];if(Pr(i,(l,f)=>{const h=Br(f);go(r,h)?e.recordDroppedEvent("ratelimit_backoff",h):a.push(l)}),a.length===0)return Ae({});const c=or(i[0],a),u=l=>{Pr(c,(f,h)=>{e.recordDroppedEvent(l,Br(h))})},d=()=>t({body:Yi(c)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&G&&N.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=yo(r,l),l),l=>{throw u("network_error"),l});return n.add(d).then(l=>l,l=>{if(l instanceof Se)return G&&N.error("Skipped sending event because buffer is full."),u("queue_overflow"),Ae({});throw l})}return{send:o,flush:s}}function qa(e,t){const n=t==null?void 0:t.getDsn(),r=t==null?void 0:t.getOptions().tunnel;return Xa(e,n)||Ya(e,r)}function Ya(e,t){return t?Zr(e)===Zr(t):!1}function Xa(e,t){return t?e.includes(t.host):!1}function Zr(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function Va(e){var t;((t=e.user)==null?void 0:t.ip_address)===void 0&&(e.user={...e.user,ip_address:"{{auto}}"})}function Ga(e){var t;"aggregates"in e?((t=e.attrs)==null?void 0:t.ip_address)===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function bo(e,t,n=[t],r="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map(o=>({name:`${r}:@sentry/${o}`,version:$r})),version:$r}),e._metadata=s}const Ka=100;function je(e,t){const n=Q(),r=_n();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:o=Ka}=n.getOptions();if(o<=0)return;const a={timestamp:Zs(),...e},c=s?gn(()=>s(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,o))}let Qr;const Ja="FunctionToString",es=new WeakMap,Za=()=>({name:Ja,setupOnce(){Qr=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=so(this),n=es.has(Q())&&t!==void 0?t:this;return Qr.apply(n,e)}}catch{}},setup(e){es.set(e,!0)}}),Qa=Oe(Za),ec=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],tc="InboundFilters",nc=(e={})=>({name:tc,processEvent(t,n,r){const s=r.getOptions(),o=sc(e,s);return oc(t,o)?null:t}}),rc=Oe(nc);function sc(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:ec],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function oc(e,t){return t.ignoreInternal&&lc(e)?(G&&N.warn(`Event dropped due to being internal Sentry Error.
Event: ${Be(e)}`),!0):ic(e,t.ignoreErrors)?(G&&N.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Be(e)}`),!0):fc(e)?(G&&N.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Be(e)}`),!0):ac(e,t.ignoreTransactions)?(G&&N.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Be(e)}`),!0):cc(e,t.denyUrls)?(G&&N.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Be(e)}.
Url: ${sn(e)}`),!0):uc(e,t.allowUrls)?!1:(G&&N.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Be(e)}.
Url: ${sn(e)}`),!0)}function ic(e,t){return e.type||!t||!t.length?!1:mo(e).some(n=>Ot(n,t))}function ac(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?Ot(n,t):!1}function cc(e,t){if(!(t!=null&&t.length))return!1;const n=sn(e);return n?Ot(n,t):!1}function uc(e,t){if(!(t!=null&&t.length))return!0;const n=sn(e);return n?Ot(n,t):!0}function lc(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function dc(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function sn(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?dc(t):null}catch{return G&&N.error(`Cannot extract url for event ${Be(e)}`),null}}function fc(e){var t,n;return e.type||!((n=(t=e.exception)==null?void 0:t.values)!=null&&n.length)?!1:!e.message&&!e.exception.values.some(r=>r.stacktrace||r.type&&r.type!=="Error"||r.value)}function hc(e,t,n=250,r,s,o,i){var c;if(!((c=o.exception)!=null&&c.values)||!i||!Pn(i.originalException,Error))return;const a=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;a&&(o.exception.values=pc(Un(e,t,s,i.originalException,r,o.exception.values,a,0),n))}function Un(e,t,n,r,s,o,i,a){if(o.length>=n+1)return o;let c=[...o];if(Pn(r[s],Error)){ts(i,a);const u=e(t,r[s]),d=c.length;ns(u,s,d,a),c=Un(e,t,n,r[s],s,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(Pn(u,Error)){ts(i,a);const l=e(t,u),f=c.length;ns(l,`errors[${d}]`,f,a),c=Un(e,t,n,u,s,[l,...c],l,f)}}),c}function ts(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function ns(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function pc(e,t){return e.map(n=>(n.value&&(n.value=Xi(n.value,t)),n))}function mc(e){const t="console";oo(t,e),io(t,_c)}function _c(){"console"in He&&Vi.forEach(function(e){e in He.console&&Ee(He.console,e,function(t){return Ur[e]=t,function(...n){ao("console",{args:n,level:e});const s=Ur[e];s==null||s.apply(He.console,n)}})})}function vo(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const gc="Dedupe",yc=()=>{let e;return{name:gc,processEvent(t){if(t.type)return t;try{if(vc(t,e))return G&&N.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},bc=Oe(yc);function vc(e,t){return t?!!(Sc(e,t)||Ec(e,t)):!1}function Sc(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Eo(e,t)||!So(e,t))}function Ec(e,t){const n=rs(t),r=rs(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Eo(e,t)||!So(e,t))}function So(e,t){let n=Hr(e),r=Hr(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const o=r[s],i=n[s];if(o.filename!==i.filename||o.lineno!==i.lineno||o.colno!==i.colno||o.function!==i.function)return!1}return!0}function Eo(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function rs(e){var t;return((t=e.exception)==null?void 0:t.values)&&e.exception.values[0]}function wc(e,t={},n=qe()){const{message:r,name:s,email:o,url:i,source:a,associatedEventId:c,tags:u}=e,d={contexts:{feedback:Lt({contact_email:o,name:s,message:r,url:i,source:a,associated_event_id:c})},type:"feedback",level:"info",tags:u},l=(n==null?void 0:n.getClient())||Q();return l&&l.emit("beforeSendFeedback",d,t),n.captureEvent(d,t)}function wo(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}function kc(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function Cc(){return"npm"}function Ic(){return!kc()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Hn(){return typeof window<"u"&&(!Ic()||xc())}function xc(){const e=He.process;return(e==null?void 0:e.type)==="renderer"}function lr(e,t){const n=dr(e,t),r={type:Ac(t),value:Lc(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function Tc(e,t,n,r){const s=Q(),o=s==null?void 0:s.getOptions().normalizeDepth,i=Bc(t),a={__serialized__:Ji(t,o)};if(i)return{exception:{values:[lr(e,i)]},extra:a};const c={exception:{values:[{type:ar(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Fc(t,{isUnhandledRejection:r})}]},extra:a};if(n){const u=dr(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function xn(e,t){return{exception:{values:[lr(e,t)]}}}function dr(e,t){const n=t.stacktrace||t.stack||"",r=Rc(t),s=Dc(t);try{return e(n,r,s)}catch{}return[]}const Mc=/Minified React error #\d+;/i;function Rc(e){return e&&Mc.test(e.message)?1:0}function Dc(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function ko(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function Ac(e){const t=e==null?void 0:e.name;return!t&&ko(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function Lc(e){const t=e==null?void 0:e.message;return ko(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function Oc(e,t,n,r){const s=(n==null?void 0:n.syntheticException)||void 0,o=fr(e,t,s,r);return rn(o),o.level="error",n!=null&&n.event_id&&(o.event_id=n.event_id),Ae(o)}function Nc(e,t,n="info",r,s){const o=(r==null?void 0:r.syntheticException)||void 0,i=Wn(e,t,o,s);return i.level=n,r!=null&&r.event_id&&(i.event_id=r.event_id),Ae(i)}function fr(e,t,n,r,s){let o;if(co(t)&&t.error)return xn(e,t.error);if(Wr(t)||Gi(t)){const i=t;if("stack"in t)o=xn(e,t);else{const a=i.name||(Wr(i)?"DOMError":"DOMException"),c=i.message?`${a}: ${i.message}`:a;o=Wn(e,c,n,r),zr(o,c)}return"code"in i&&(o.tags={...o.tags,"DOMException.code":`${i.code}`}),o}return Ki(t)?xn(e,t):Nn(t)||ar(t)?(o=Tc(e,t,n,s),rn(o,{synthetic:!0}),o):(o=Wn(e,t,n,r),zr(o,`${t}`),rn(o,{synthetic:!0}),o)}function Wn(e,t,n,r){const s={};if(r&&n){const o=dr(e,n);o.length&&(s.exception={values:[{value:t,stacktrace:{frames:o}}]}),rn(s,{synthetic:!0})}if(ro(t)){const{__sentry_template_string__:o,__sentry_template_values__:i}=t;return s.logentry={message:o,params:i},s}return s.message=t,s}function Fc(e,{isUnhandledRejection:t}){const n=Zi(e),r=t?"promise rejection":"exception";return co(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:ar(e)?`Event \`${Pc(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function Pc(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function Bc(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}class $c extends Oa{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t},r=ne.SENTRY_SDK_SOURCE||Cc();bo(n,"browser",["browser"],r),super(n),n.sendClientReports&&ne.document&&ne.document.addEventListener("visibilitychange",()=>{ne.document.visibilityState==="hidden"&&this._flushOutcomes()}),this._options.sendDefaultPii&&(this.on("postprocessEvent",Va),this.on("beforeSendSession",Ga))}eventFromException(t,n){return Oc(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return Nc(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,s){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,s)}}const Uc=1e3;let ss,zn,jn;function Co(e){const t="dom";oo(t,e),io(t,Hc)}function Hc(){if(!Re.document)return;const e=ao.bind(null,"dom"),t=os(e,!0);Re.document.addEventListener("click",t,!1),Re.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{var o,i;const s=(o=Re[n])==null?void 0:o.prototype;(i=s==null?void 0:s.hasOwnProperty)!=null&&i.call(s,"addEventListener")&&(Ee(s,"addEventListener",function(a){return function(c,u,d){if(c==="click"||c=="keypress")try{const l=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},f=l[c]=l[c]||{refCount:0};if(!f.handler){const h=os(e);f.handler=h,a.call(this,c,h,d)}f.refCount++}catch{}return a.call(this,c,u,d)}}),Ee(s,"removeEventListener",function(a){return function(c,u,d){if(c==="click"||c=="keypress")try{const l=this.__sentry_instrumentation_handlers__||{},f=l[c];f&&(f.refCount--,f.refCount<=0&&(a.call(this,c,f.handler,d),f.handler=void 0,delete l[c]),Object.keys(l).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return a.call(this,c,u,d)}}))})}function Wc(e){if(e.type!==zn)return!1;try{if(!e.target||e.target._sentryId!==jn)return!1}catch{}return!0}function zc(e,t){return e!=="keypress"?!1:t!=null&&t.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function os(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=jc(n);if(zc(n.type,r))return;jr(n,"_sentryCaptured",!0),r&&!r._sentryId&&jr(r,"_sentryId",Et());const s=n.type==="keypress"?"input":n.type;Wc(n)||(e({event:n,name:s,global:t}),zn=n.type,jn=r?r._sentryId:void 0),clearTimeout(ss),ss=Re.setTimeout(()=>{jn=void 0,zn=void 0},Uc)}}function jc(e){try{return e.target}catch{return null}}const Gt={};function Io(e){const t=Gt[e];if(t)return t;let n=Re[e];if(Qi(n))return Gt[e]=n.bind(Re);const r=Re.document;if(r&&typeof r.createElement=="function")try{const s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s);const o=s.contentWindow;o!=null&&o[e]&&(n=o[e]),r.head.removeChild(s)}catch(s){Bn&&N.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,s)}return n&&(Gt[e]=n.bind(Re))}function is(e){Gt[e]=void 0}function ft(...e){return Io("setTimeout")(...e)}function xo(e){return new URLSearchParams(e).toString()}function To(e,t=N){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[xo(e)];if(!e)return[void 0]}catch(n){return Bn&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Bn&&t.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Mo(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function qc(e,t=Io("fetch")){let n=0,r=0;function s(o){const i=o.body.length;n+=i,r++;const a={body:o.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return is("fetch"),nn("No fetch implementation available");try{return t(e.url,a).then(c=>(n-=i,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return is("fetch"),n-=i,r--,nn(c)}}return ja(e,s)}const Yc=30,Xc=50;function qn(e,t,n,r){const s={filename:e,function:t==="<anonymous>"?lt:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const Vc=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Gc=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Kc=/\((\S*)(?::(\d+))(?::(\d+))\)/,Jc=e=>{const t=Vc.exec(e);if(t){const[,r,s,o]=t;return qn(r,lt,+s,+o)}const n=Gc.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const i=Kc.exec(n[2]);i&&(n[2]=i[1],n[3]=i[2],n[4]=i[3])}const[s,o]=Ro(n[1]||lt,n[2]);return qn(o,s,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},Zc=[Yc,Jc],Qc=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,eu=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,tu=e=>{const t=Qc.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const o=eu.exec(t[3]);o&&(t[1]=t[1]||"eval",t[3]=o[1],t[4]=o[2],t[5]="")}let r=t[3],s=t[1]||lt;return[s,r]=Ro(s,r),qn(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},nu=[Xc,tu],ru=[Zc,nu],su=ea(...ru),Ro=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:lt,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Ut=1024,ou="Breadcrumbs",iu=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:ou,setup(n){t.console&&mc(lu(n)),t.dom&&Co(uu(n,t.dom)),t.xhr&&ta(du(n)),t.fetch&&na(fu(n)),t.history&&cr(hu(n)),t.sentry&&n.on("beforeSendEvent",cu(n))}}},au=Oe(iu);function cu(e){return function(n){Q()===e&&je({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Be(n)},{event:n})}}function uu(e,t){return function(r){if(Q()!==e)return;let s,o,i=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>Ut&&(It&&N.warn(`\`dom.maxStringLength\` cannot exceed ${Ut}, but a value of ${a} was configured. Sentry will use ${Ut} instead.`),a=Ut),typeof i=="string"&&(i=[i]);try{const u=r.event,d=pu(u)?u.target:u;s=ur(d,{keyAttrs:i,maxStringLength:a}),o=ra(d)}catch{s="<unknown>"}if(s.length===0)return;const c={category:`ui.${r.name}`,message:s};o&&(c.data={"ui.component_name":o}),je(c,{event:r.event,name:r.name,global:r.global})}}function lu(e){return function(n){if(Q()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:vo(n.level),message:qr(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${qr(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;je(r,{input:n.args,level:n.level})}}function du(e){return function(n){if(Q()!==e)return;const{startTimestamp:r,endTimestamp:s}=n,o=n.xhr[uo];if(!r||!s||!o)return;const{method:i,url:a,status_code:c,body:u}=o,d={method:i,url:a,status_code:c},l={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:s},f={category:"xhr",data:d,type:"http",level:wo(c)};e.emit("beforeOutgoingRequestBreadcrumb",f,l),je(f,l)}}function fu(e){return function(n){if(Q()!==e)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const o=n.fetchData,i={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s},a={category:"fetch",data:o,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,i),je(a,i)}else{const o=n.response,i={...n.fetchData,status_code:o==null?void 0:o.status};n.fetchData.request_body_size,n.fetchData.response_body_size,o==null||o.status;const a={input:n.args,response:o,startTimestamp:r,endTimestamp:s},c={category:"fetch",data:i,type:"http",level:wo(i.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,a),je(c,a)}}}function hu(e){return function(n){if(Q()!==e)return;let r=n.from,s=n.to;const o=In(ne.location.href);let i=r?In(r):void 0;const a=In(s);i!=null&&i.path||(i=o),o.protocol===a.protocol&&o.host===a.host&&(s=a.relative),o.protocol===i.protocol&&o.host===i.host&&(r=i.relative),je({category:"navigation",data:{from:r,to:s}})}}function pu(e){return!!e&&!!e.target}const mu=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],_u="BrowserApiErrors",gu=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:_u,setupOnce(){t.setTimeout&&Ee(ne,"setTimeout",as),t.setInterval&&Ee(ne,"setInterval",as),t.requestAnimationFrame&&Ee(ne,"requestAnimationFrame",bu),t.XMLHttpRequest&&"XMLHttpRequest"in ne&&Ee(XMLHttpRequest.prototype,"send",vu);const n=t.eventTarget;n&&(Array.isArray(n)?n:mu).forEach(Su)}}},yu=Oe(gu);function as(e){return function(...t){const n=t[0];return t[0]=xt(n,{mechanism:{data:{function:dt(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function bu(e){return function(t){return e.apply(this,[xt(t,{mechanism:{data:{function:"requestAnimationFrame",handler:dt(e)},handled:!1,type:"instrument"}})])}}function vu(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&Ee(n,s,function(o){const i={mechanism:{data:{function:s,handler:dt(o)},handled:!1,type:"instrument"}},a=so(o);return a&&(i.mechanism.data.handler=dt(a)),xt(o,i)})}),e.apply(this,t)}}function Su(e){var r,s;const n=(r=ne[e])==null?void 0:r.prototype;(s=n==null?void 0:n.hasOwnProperty)!=null&&s.call(n,"addEventListener")&&(Ee(n,"addEventListener",function(o){return function(i,a,c){try{Eu(a)&&(a.handleEvent=xt(a.handleEvent,{mechanism:{data:{function:"handleEvent",handler:dt(a),target:e},handled:!1,type:"instrument"}}))}catch{}return o.apply(this,[i,xt(a,{mechanism:{data:{function:"addEventListener",handler:dt(a),target:e},handled:!1,type:"instrument"}}),c])}}),Ee(n,"removeEventListener",function(o){return function(i,a,c){try{const u=a.__sentry_wrapped__;u&&o.call(this,i,u,c)}catch{}return o.call(this,i,a,c)}}))}function Eu(e){return typeof e.handleEvent=="function"}const wu=Oe(()=>({name:"BrowserSession",setupOnce(){if(typeof ne.document>"u"){It&&N.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}Yr({ignoreDuration:!0}),Xr(),cr(({from:e,to:t})=>{e!==void 0&&e!==t&&(Yr({ignoreDuration:!0}),Xr())})}})),ku="GlobalHandlers",Cu=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:ku,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(xu(n),cs("onerror")),t.onunhandledrejection&&(Tu(n),cs("onunhandledrejection"))}}},Iu=Oe(Cu);function xu(e){sa(t=>{const{stackParser:n,attachStacktrace:r}=Do();if(Q()!==e||lo())return;const{msg:s,url:o,line:i,column:a,error:c}=t,u=Du(fr(n,c||s,void 0,r,!1),o,i,a);u.level="error",fo(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function Tu(e){oa(t=>{const{stackParser:n,attachStacktrace:r}=Do();if(Q()!==e||lo())return;const s=Mu(t),o=ir(s)?Ru(s):fr(n,s,void 0,r,!0);o.level="error",fo(o,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function Mu(e){if(ir(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function Ru(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function Du(e,t,n,r){const s=e.exception=e.exception||{},o=s.values=s.values||[],i=o[0]=o[0]||{},a=i.stacktrace=i.stacktrace||{},c=a.frames=a.frames||[],u=r,d=n,l=ia(t)&&t.length>0?t:Nt();return c.length===0&&c.push({colno:u,filename:l,function:lt,in_app:!0,lineno:d}),e}function cs(e){It&&N.log(`Global Handler attached: ${e}`)}function Do(){const e=Q();return(e==null?void 0:e.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}const Au=Oe(()=>({name:"HttpContext",preprocessEvent(e){var i,a;if(!ne.navigator&&!ne.location&&!ne.document)return;const t=((i=e.request)==null?void 0:i.url)||Nt(),{referrer:n}=ne.document||{},{userAgent:r}=ne.navigator||{},s={...(a=e.request)==null?void 0:a.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},o={...e.request,...t&&{url:t},headers:s};e.request=o}})),Lu="cause",Ou=5,Nu="LinkedErrors",Fu=(e={})=>{const t=e.limit||Ou,n=e.key||Lu;return{name:Nu,preprocessEvent(r,s,o){const i=o.getOptions();hc(lr,i.stackParser,i.maxValueLength,n,t,r,s)}}},Pu=Oe(Fu);function Ao(e){return[rc(),Qa(),yu(),au(),Iu(),Pu(),bc(),Au(),wu()]}function Bu(e={}){var n;return{...{defaultIntegrations:Ao(),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:(n=ne.SENTRY_RELEASE)==null?void 0:n.id,sendClientReports:!0},...$u(e)}}function $u(e){const t={};for(const n of Object.getOwnPropertyNames(e)){const r=n;e[r]!==void 0&&(t[r]=e[r])}return t}function Uu(){var c;const e=typeof ne.window<"u"&&ne;if(!e)return!1;const t=e.chrome?"chrome":"browser",n=e[t],r=(c=n==null?void 0:n.runtime)==null?void 0:c.id,s=Nt()||"",o=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],i=!!r&&ne===ne.top&&o.some(u=>s.startsWith(`${u}//`)),a=typeof e.nw<"u";return!!r&&!i&&!a}function Hu(e={}){const t=Bu(e);if(!t.skipBrowserExtensionCheck&&Uu()){It&&gn(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}It&&!aa()&&N.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill.");const n={...t,stackParser:ca(t.stackParser||su),integrations:ua(t),transport:t.transport||qc};return Pa($c,n)}const V=He,hr="sentryReplaySession",Wu="replay_event",pr="Unable to send Replay",zu=3e5,ju=9e5,qu=5e3,Yu=5500,Xu=6e4,Vu=5e3,Gu=3,us=15e4,Ht=5e3,Ku=3e3,Ju=300,mr=2e7,Zu=4999,Qu=15e3,ls=36e5;var oe;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(oe||(oe={}));function el(e){return e.nodeType===e.ELEMENT_NODE}function wt(e){const t=e==null?void 0:e.host;return(t==null?void 0:t.shadowRoot)===e}function kt(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function tl(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function nl(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function on(e){try{const t=e.rules||e.cssRules;return t?tl(Array.from(t,Lo).join("")):null}catch{return null}}function rl(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,s=r[n],o=r.getPropertyPriority(s);t+=`${s}:${r.getPropertyValue(s)}${o?" !important":""};`}return`${e.selectorText} { ${t} }`}function Lo(e){let t;if(ol(e))try{t=on(e.styleSheet)||nl(e)}catch{}else if(il(e)){let n=e.cssText;const r=e.selectorText.includes(":"),s=typeof e.style.all=="string"&&e.style.all;if(s&&(n=rl(e)),r&&(n=sl(n)),r||s)return n}return t||e.cssText}function sl(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function ol(e){return"styleSheet"in e}function il(e){return"selectorText"in e}class Oo{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){var r;return t?((r=this.getMeta(t))==null?void 0:r.id)??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function al(){return new Oo}function yn({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Tt({isMasked:e,element:t,value:n,maskInputFn:r}){let s=n||"";return e?(r&&(s=r(s,t)),"*".repeat(s.length)):s}function ht(e){return e.toLowerCase()}function Yn(e){return e.toUpperCase()}const ds="__rrweb_original__";function cl(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let s=0;s<e.height;s+=n){const o=t.getImageData,i=ds in o?o[ds]:o;if(new Uint32Array(i.call(t,r,s,Math.min(n,e.width-r),Math.min(n,e.height-s)).data.buffer).some(c=>c!==0))return!1}return!0}function _r(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?ht(t):null}function an(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function No(e,t){let n;try{n=new URL(e,t??window.location.href)}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i,s=n.pathname.match(r);return(s==null?void 0:s[1])??null}const fs={};function Fo(e){const t=fs[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return fs[e]=r.bind(window)}function Xn(...e){return Fo("setTimeout")(...e)}function Po(...e){return Fo("clearTimeout")(...e)}function Bo(e){try{return e.contentDocument}catch{}}let ul=1;const ll=new RegExp("[^a-z0-9-_:]"),Mt=-2;function gr(){return ul++}function dl(e){if(e instanceof HTMLFormElement)return"form";const t=ht(e.tagName);return ll.test(t)?"div":t}function fl(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let tt,hs;const hl=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,pl=/^(?:[a-z+]+:)?\/\//i,ml=/^www\..*/i,_l=/^(data:)([^,]*),(.*)/i;function cn(e,t){return(e||"").replace(hl,(n,r,s,o,i,a)=>{const c=s||i||a,u=r||o||"";if(!c)return n;if(pl.test(c)||ml.test(c))return`url(${u}${c}${u})`;if(_l.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${fl(t)+c}${u})`;const d=t.split("/"),l=c.split("/");d.pop();for(const f of l)f!=="."&&(f===".."?d.pop():d.push(f));return`url(${u}${d.join("/")}${u})`})}const gl=/^[^ \t\n\r\u000c]+/,yl=/^[, \t\n\r\u000c]+/;function bl(e,t){if(t.trim()==="")return t;let n=0;function r(o){let i;const a=o.exec(t.substring(n));return a?(i=a[0],n+=i.length,i):""}const s=[];for(;r(yl),!(n>=t.length);){let o=r(gl);if(o.slice(-1)===",")o=st(e,o.substring(0,o.length-1)),s.push(o);else{let i="";o=st(e,o);let a=!1;for(;;){const c=t.charAt(n);if(c===""){s.push((o+i).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,s.push((o+i).trim());break}else c==="("&&(a=!0);i+=c,n+=1}}}return s.join(", ")}const ps=new WeakMap;function st(e,t){return!t||t.trim()===""?t:bn(e,t)}function vl(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function bn(e,t){let n=ps.get(e);if(n||(n=e.createElement("a"),ps.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function $o(e,t,n,r,s,o){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?st(e,r):n==="srcset"?bl(e,r):n==="style"?cn(r,bn(e)):t==="object"&&n==="data"?st(e,r):typeof o=="function"?o(n,r,s):r)}function Uo(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function Sl(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let s=e.classList.length;s--;){const o=e.classList[s];if(t.test(o))return!0}if(n)return e.matches(n)}catch{}return!1}function El(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function Ke(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Ke(e.parentNode,t,n,r+1)}function ot(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(El(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function pt(e,t,n,r,s,o){try{const i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(i===null)return!1;if(i.tagName==="INPUT"){const u=i.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(o){if(c=Ke(i,ot(r,s)),c<0)return!0;a=Ke(i,ot(t,n),c>=0?c:1/0)}else{if(a=Ke(i,ot(t,n)),a<0)return!1;c=Ke(i,ot(r,s),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!o}catch{}return!!o}function wl(e,t,n){const r=e.contentWindow;if(!r)return;let s=!1,o;try{o=r.document.readyState}catch{return}if(o!=="complete"){const a=Xn(()=>{s||(t(),s=!0)},n);e.addEventListener("load",()=>{Po(a),s=!0,t()});return}const i="about:blank";if(r.location.href!==i||e.src===i||e.src==="")return Xn(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function kl(e,t,n){let r=!1,s;try{s=e.sheet}catch{return}if(s)return;const o=Xn(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{Po(o),r=!0,t()})}function Cl(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,inlineStylesheet:h,maskInputOptions:p={},maskTextFn:_,maskInputFn:b,dataURLOptions:y={},inlineImages:E,recordCanvas:I,keepIframeSrcFn:x,newlyAddedElement:k=!1}=t,g=Il(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:oe.Document,childNodes:[],compatMode:e.compatMode}:{type:oe.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:oe.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:g};case e.ELEMENT_NODE:return Tl(e,{doc:n,blockClass:s,blockSelector:o,unblockSelector:i,inlineStylesheet:h,maskAttributeFn:c,maskInputOptions:p,maskInputFn:b,dataURLOptions:y,inlineImages:E,recordCanvas:I,keepIframeSrcFn:x,newlyAddedElement:k,rootId:g,maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f});case e.TEXT_NODE:return xl(e,{doc:n,maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,maskTextFn:_,maskInputOptions:p,maskInputFn:b,rootId:g});case e.CDATA_SECTION_NODE:return{type:oe.CDATA,textContent:"",rootId:g};case e.COMMENT_NODE:return{type:oe.Comment,textContent:e.textContent||"",rootId:g};default:return!1}}function Il(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function xl(e,t){var y;const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:o,unmaskTextSelector:i,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:d}=t,l=e.parentNode&&e.parentNode.tagName;let f=e.textContent;const h=l==="STYLE"?!0:void 0,p=l==="SCRIPT"?!0:void 0,_=l==="TEXTAREA"?!0:void 0;if(h&&f){try{e.nextSibling||e.previousSibling||(y=e.parentNode.sheet)!=null&&y.cssRules&&(f=on(e.parentNode.sheet))}catch(E){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${E}`,e)}f=cn(f,bn(t.doc))}p&&(f="SCRIPT_PLACEHOLDER");const b=pt(e,r,o,s,i,n);if(!h&&!p&&!_&&f&&b&&(f=a?a(f,e.parentElement):f.replace(/[\S]/g,"*")),_&&f&&(c.textarea||b)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*")),l==="OPTION"&&f){const E=yn({type:null,tagName:l,maskInputOptions:c});f=Tt({isMasked:pt(e,r,o,s,i,E),element:e,value:f,maskInputFn:u})}return{type:oe.Text,textContent:f||"",isStyle:h,rootId:d}}function Tl(e,t){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:o,inlineStylesheet:i,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:d={},inlineImages:l,recordCanvas:f,keepIframeSrcFn:h,newlyAddedElement:p=!1,rootId:_,maskAllText:b,maskTextClass:y,unmaskTextClass:E,maskTextSelector:I,unmaskTextSelector:x}=t,k=Sl(e,r,s,o),g=dl(e);let m={};const S=e.attributes.length;for(let v=0;v<S;v++){const w=e.attributes[v];w.name&&!Uo(g,w.name,w.value)&&(m[w.name]=$o(n,g,ht(w.name),w.value,e,c))}if(g==="link"&&i){const v=Array.from(n.styleSheets).find(D=>D.href===e.href);let w=null;v&&(w=on(v)),w&&(m.rel=null,m.href=null,m.crossorigin=null,m._cssText=cn(w,v.href))}if(g==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const v=on(e.sheet);v&&(m._cssText=cn(v,bn(n)))}if(g==="input"||g==="textarea"||g==="select"||g==="option"){const v=e,w=_r(v),D=an(v,Yn(g),w),U=v.checked;if(w!=="submit"&&w!=="button"&&D){const W=pt(v,y,I,E,x,yn({type:w,tagName:Yn(g),maskInputOptions:a}));m.value=Tt({isMasked:W,element:v,value:D,maskInputFn:u})}U&&(m.checked=U)}if(g==="option"&&(e.selected&&!a.select?m.selected=!0:delete m.selected),g==="canvas"&&f){if(e.__context==="2d")cl(e)||(m.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){const v=e.toDataURL(d.type,d.quality),w=n.createElement("canvas");w.width=e.width,w.height=e.height;const D=w.toDataURL(d.type,d.quality);v!==D&&(m.rr_dataURL=v)}}if(g==="img"&&l){tt||(tt=n.createElement("canvas"),hs=tt.getContext("2d"));const v=e,w=v.currentSrc||v.getAttribute("src")||"<unknown-src>",D=v.crossOrigin,U=()=>{v.removeEventListener("load",U);try{tt.width=v.naturalWidth,tt.height=v.naturalHeight,hs.drawImage(v,0,0),m.rr_dataURL=tt.toDataURL(d.type,d.quality)}catch(W){if(v.crossOrigin!=="anonymous"){v.crossOrigin="anonymous",v.complete&&v.naturalWidth!==0?U():v.addEventListener("load",U);return}else console.warn(`Cannot inline img src=${w}! Error: ${W}`)}v.crossOrigin==="anonymous"&&(D?m.crossOrigin=D:v.removeAttribute("crossorigin"))};v.complete&&v.naturalWidth!==0?U():v.addEventListener("load",U)}if((g==="audio"||g==="video")&&(m.rr_mediaState=e.paused?"paused":"played",m.rr_mediaCurrentTime=e.currentTime),p||(e.scrollLeft&&(m.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(m.rr_scrollTop=e.scrollTop)),k){const{width:v,height:w}=e.getBoundingClientRect();m={class:m.class,rr_width:`${v}px`,rr_height:`${w}px`}}g==="iframe"&&!h(m.src)&&(!k&&!Bo(e)&&(m.rr_src=m.src),delete m.src);let C;try{customElements.get(g)&&(C=!0)}catch{}return{type:oe.Element,tagName:g,attributes:m,childNodes:[],isSVG:vl(e)||void 0,needBlock:k,rootId:_,isCustom:C}}function X(e){return e==null?"":e.toLowerCase()}function Ml(e,t){if(t.comment&&e.type===oe.Comment)return!0;if(e.type===oe.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&No(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(X(e.attributes.name).match(/^msapplication-tile(image|color)$/)||X(e.attributes.name)==="application-name"||X(e.attributes.rel)==="icon"||X(e.attributes.rel)==="apple-touch-icon"||X(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&X(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(X(e.attributes.property).match(/^(og|twitter|fb):/)||X(e.attributes.name).match(/^(og|twitter):/)||X(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(X(e.attributes.name)==="robots"||X(e.attributes.name)==="googlebot"||X(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(X(e.attributes.name)==="author"||X(e.attributes.name)==="generator"||X(e.attributes.name)==="framework"||X(e.attributes.name)==="publisher"||X(e.attributes.name)==="progid"||X(e.attributes.property).match(/^article:/)||X(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(X(e.attributes.name)==="google-site-verification"||X(e.attributes.name)==="yandex-verification"||X(e.attributes.name)==="csrf-token"||X(e.attributes.name)==="p:domain_verify"||X(e.attributes.name)==="verify-v1"||X(e.attributes.name)==="verification"||X(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function it(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f=!1,inlineStylesheet:h=!0,maskInputOptions:p={},maskAttributeFn:_,maskTextFn:b,maskInputFn:y,slimDOMOptions:E,dataURLOptions:I={},inlineImages:x=!1,recordCanvas:k=!1,onSerialize:g,onIframeLoad:m,iframeLoadTimeout:S=5e3,onStylesheetLoad:C,stylesheetLoadTimeout:v=5e3,keepIframeSrcFn:w=()=>!1,newlyAddedElement:D=!1}=t;let{preserveWhiteSpace:U=!0}=t;const W=Cl(e,{doc:n,mirror:r,blockClass:s,blockSelector:o,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,inlineStylesheet:h,maskInputOptions:p,maskAttributeFn:_,maskTextFn:b,maskInputFn:y,dataURLOptions:I,inlineImages:x,recordCanvas:k,keepIframeSrcFn:w,newlyAddedElement:D});if(!W)return console.warn(e,"not serialized"),null;let ie;r.hasNode(e)?ie=r.getId(e):Ml(W,E)||!U&&W.type===oe.Text&&!W.isStyle&&!W.textContent.replace(/^\s+|\s+$/gm,"").length?ie=Mt:ie=gr();const A=Object.assign(W,{id:ie});if(r.add(e,A),ie===Mt)return null;g&&g(e);let re=!f;if(A.type===oe.Element){re=re&&!A.needBlock,delete A.needBlock;const F=e.shadowRoot;F&&kt(F)&&(A.isShadowHost=!0)}if((A.type===oe.Document||A.type===oe.Element)&&re){E.headWhitespace&&A.type===oe.Element&&A.tagName==="head"&&(U=!1);const F={doc:n,mirror:r,blockClass:s,blockSelector:o,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f,inlineStylesheet:h,maskInputOptions:p,maskAttributeFn:_,maskTextFn:b,maskInputFn:y,slimDOMOptions:E,dataURLOptions:I,inlineImages:x,recordCanvas:k,preserveWhiteSpace:U,onSerialize:g,onIframeLoad:m,iframeLoadTimeout:S,onStylesheetLoad:C,stylesheetLoadTimeout:v,keepIframeSrcFn:w};for(const ee of Array.from(e.childNodes)){const de=it(ee,F);de&&A.childNodes.push(de)}if(el(e)&&e.shadowRoot)for(const ee of Array.from(e.shadowRoot.childNodes)){const de=it(ee,F);de&&(kt(e.shadowRoot)&&(de.isShadow=!0),A.childNodes.push(de))}}return e.parentNode&&wt(e.parentNode)&&kt(e.parentNode)&&(A.isShadow=!0),A.type===oe.Element&&A.tagName==="iframe"&&wl(e,()=>{const F=Bo(e);if(F&&m){const ee=it(F,{doc:F,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:h,maskInputOptions:p,maskAttributeFn:_,maskTextFn:b,maskInputFn:y,slimDOMOptions:E,dataURLOptions:I,inlineImages:x,recordCanvas:k,preserveWhiteSpace:U,onSerialize:g,onIframeLoad:m,iframeLoadTimeout:S,onStylesheetLoad:C,stylesheetLoadTimeout:v,keepIframeSrcFn:w});ee&&m(e,ee)}},S),A.type===oe.Element&&A.tagName==="link"&&typeof A.attributes.rel=="string"&&(A.attributes.rel==="stylesheet"||A.attributes.rel==="preload"&&typeof A.attributes.href=="string"&&No(A.attributes.href)==="css")&&kl(e,()=>{if(C){const F=it(e,{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:h,maskInputOptions:p,maskAttributeFn:_,maskTextFn:b,maskInputFn:y,slimDOMOptions:E,dataURLOptions:I,inlineImages:x,recordCanvas:k,preserveWhiteSpace:U,onSerialize:g,onIframeLoad:m,iframeLoadTimeout:S,onStylesheetLoad:C,stylesheetLoadTimeout:v,keepIframeSrcFn:w});F&&C(e,F)}},v),A}function Rl(e,t){const{mirror:n=new Oo,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:o=null,maskAllText:i=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:d=null,inlineStylesheet:l=!0,inlineImages:f=!1,recordCanvas:h=!1,maskAllInputs:p=!1,maskAttributeFn:_,maskTextFn:b,maskInputFn:y,slimDOM:E=!1,dataURLOptions:I,preserveWhiteSpace:x,onSerialize:k,onIframeLoad:g,iframeLoadTimeout:m,onStylesheetLoad:S,stylesheetLoadTimeout:C,keepIframeSrcFn:v=()=>!1}=t;return it(e,{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,maskAllText:i,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:l,maskInputOptions:p===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:p===!1?{}:p,maskAttributeFn:_,maskTextFn:b,maskInputFn:y,slimDOMOptions:E===!0||E==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:E==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:E===!1?{}:E,dataURLOptions:I,inlineImages:f,recordCanvas:h,preserveWhiteSpace:x,onSerialize:k,onIframeLoad:g,iframeLoadTimeout:m,onStylesheetLoad:S,stylesheetLoadTimeout:C,keepIframeSrcFn:v,newlyAddedElement:!1})}function le(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const rt=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let ms={map:{},getId(){return console.error(rt),-1},getNode(){return console.error(rt),null},removeNodeFromMap(){console.error(rt)},has(){return console.error(rt),!1},reset(){console.error(rt)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(ms=new Proxy(ms,{get(e,t,n){return t==="map"&&console.error(rt),Reflect.get(e,t,n)}}));function Rt(e,t,n={}){let r=null,s=0;return function(...o){const i=Date.now();!s&&n.leading===!1&&(s=i);const a=t-(i-s),c=this;a<=0||a>t?(r&&(Pl(r),r=null),s=i,e.apply(c,o)):!r&&n.trailing!==!1&&(r=vn(()=>{s=n.leading===!1?0:Date.now(),r=null,e.apply(c,o)},a))}}function Ho(e,t,n,r,s=window){const o=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(i){vn(()=>{n.set.call(this,i)},0),o&&o.set&&o.set.call(this,i)}}),()=>Ho(e,t,o||{},!0)}function yr(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}let un=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(un=()=>new Date().getTime());function Wo(e){var n,r,s,o,i,a;const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:(t==null?void 0:t.documentElement.scrollLeft)||((r=(n=t==null?void 0:t.body)==null?void 0:n.parentElement)==null?void 0:r.scrollLeft)||((s=t==null?void 0:t.body)==null?void 0:s.scrollLeft)||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:(t==null?void 0:t.documentElement.scrollTop)||((i=(o=t==null?void 0:t.body)==null?void 0:o.parentElement)==null?void 0:i.scrollTop)||((a=t==null?void 0:t.body)==null?void 0:a.scrollTop)||0}}function zo(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function jo(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function qo(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function fe(e,t,n,r,s){if(!e)return!1;const o=qo(e);if(!o)return!1;const i=ot(t,n);if(!s){const u=r&&o.matches(r);return i(o)&&!u}const a=Ke(o,i);let c=-1;return a<0?!1:(r&&(c=Ke(o,ot(null,r))),a>-1&&c<0?!0:a<c)}function Dl(e,t){return t.getId(e)!==-1}function Tn(e,t){return t.getId(e)===Mt}function Yo(e,t){if(wt(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Yo(e.parentNode,t):!0:!0}function Vn(e){return!!e.changedTouches}function Al(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function Xo(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function Vo(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Gn(e){return!!(e!=null&&e.shadowRoot)}class Ll{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return this.styleIDMap.get(t)??-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Go(e){var n,r;let t=null;return((r=(n=e.getRootNode)==null?void 0:n.call(e))==null?void 0:r.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function Ol(e){let t=e,n;for(;n=Go(t);)t=n;return t}function Nl(e){const t=e.ownerDocument;if(!t)return!1;const n=Ol(e);return t.contains(n)}function Ko(e){const t=e.ownerDocument;return t?t.contains(e)||Nl(e):!1}const _s={};function br(e){const t=_s[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return _s[e]=r.bind(window)}function Fl(...e){return br("requestAnimationFrame")(...e)}function vn(...e){return br("setTimeout")(...e)}function Pl(...e){return br("clearTimeout")(...e)}var L=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(L||{}),R=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(R||{}),ue=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(ue||{}),Te=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Te||{}),gs;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(gs||(gs={}));var ys;(function(e){e[e.PLACEHOLDER=0]="PLACEHOLDER",e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",e[e.ENTITY_REFERENCE_NODE=5]="ENTITY_REFERENCE_NODE",e[e.ENTITY_NODE=6]="ENTITY_NODE",e[e.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE",e[e.DOCUMENT_NODE=9]="DOCUMENT_NODE",e[e.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",e[e.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE"})(ys||(ys={}));function vr(e){try{return e.contentDocument}catch{}}function Bl(e){try{return e.contentWindow}catch{}}function bs(e){return"__ln"in e}class $l{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=(n==null?void 0:n.next)||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&bs(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&bs(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const vs=(e,t)=>`${e}@${t}`;class Ul{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new $l,s=c=>{let u=c,d=Mt;for(;d===Mt;)u=u&&u.nextSibling,d=u&&this.mirror.getId(u);return d},o=c=>{if(!c.parentNode||!Ko(c))return;const u=wt(c.parentNode)?this.mirror.getId(Go(c)):this.mirror.getId(c.parentNode),d=s(c);if(u===-1||d===-1)return r.addNode(c);const l=it(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{Xo(f,this.mirror)&&!fe(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(f),Vo(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),Gn(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(f,h)=>{fe(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(f,h),f.contentWindow&&this.canvasManager.addWindow(f.contentWindow),this.shadowDomManager.observeAttachShadow(f))},onStylesheetLoad:(f,h)=>{this.stylesheetManager.attachLinkElement(f,h)}});l&&(t.push({parentId:u,nextId:d,node:l}),n.add(l.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const c of this.movedSet)Ss(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||o(c);for(const c of this.addedSet)!Es(this.droppedSet,c)&&!Ss(this.removes,c,this.mirror)||Es(this.movedSet,c)?o(c):this.droppedSet.add(c);let i=null;for(;r.length;){let c=null;if(i){const u=this.mirror.getId(i.value.parentNode),d=s(i.value);u!==-1&&d!==-1&&(c=i)}if(!c){let u=r.tail;for(;u;){const d=u;if(u=u.previous,d){const l=this.mirror.getId(d.value.parentNode);if(s(d.value)===-1)continue;if(l!==-1){c=d;break}else{const h=d.value;if(h.parentNode&&h.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const p=h.parentNode.host;if(this.mirror.getId(p)!==-1){c=d;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}i=c.previous,r.removeNode(c.value),o(c.value)}const a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{const{attributes:u}=c;if(typeof u.style=="string"){const d=JSON.stringify(c.styleDiff),l=JSON.stringify(c._unchangedStyles);d.length<u.style.length&&(d+l).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!Tn(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!fe(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:pt(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,qo(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,s=t.target.getAttribute(r);if(r==="value"){const i=_r(n),a=n.tagName;s=an(n,a,i);const c=yn({maskInputOptions:this.maskInputOptions,tagName:a,type:i}),u=pt(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);s=Tt({isMasked:u,element:n,value:s,maskInputFn:this.maskInputFn})}if(fe(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===t.oldValue)return;let o=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(s))if(!vr(n))r="rr_src";else return;if(o||(o={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o),this.attributeMap.set(t.target,o)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!Uo(n.tagName,r)&&(o.attributes[r]=$o(this.doc,ht(n.tagName),ht(r),s,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const i=this.unattachedDoc.createElement("span");t.oldValue&&i.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const c=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);c!==i.style.getPropertyValue(a)||u!==i.style.getPropertyPriority(a)?u===""?o.styleDiff[a]=c:o.styleDiff[a]=[c,u]:o._unchangedStyles[a]=[c,u]}for(const a of Array.from(i.style))n.style.getPropertyValue(a)===""&&(o.styleDiff[a]=!1)}break}case"childList":{if(fe(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),s=wt(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);fe(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Tn(n,this.mirror)||!Dl(n,this.mirror)||(this.addedSet.has(n)?(Kn(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||Yo(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[vs(r,s)]?Kn(this.movedSet,n):this.removes.push({parentId:s,id:r,isShadow:wt(t.target)&&kt(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(Tn(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[vs(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);fe(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),Gn(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Kn(e,t){e.delete(t),t.childNodes.forEach(n=>Kn(e,n))}function Ss(e,t,n){return e.length===0?!1:Hl(e,t,n)}function Hl(e,t,n){let r=t.parentNode;for(;r;){const s=n.getId(r);if(e.some(o=>o.id===s))return!0;r=r.parentNode}return!1}function Es(e,t){return e.size===0?!1:Jo(e,t)}function Jo(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:Jo(e,n):!1}let Ct;function Wl(e){Ct=e}function zl(){Ct=void 0}const B=e=>Ct?(...n)=>{try{return e(...n)}catch(r){if(Ct&&Ct(r)===!0)return()=>{};throw r}}:e,at=[];function Ft(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Zo(e,t){var i,a;const n=new Ul;at.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const s=(a=(i=window==null?void 0:window.Zone)==null?void 0:i.__symbol__)==null?void 0:a.call(i,"MutationObserver");s&&window[s]&&(r=window[s]);const o=new r(B(c=>{e.onMutation&&e.onMutation(c)===!1||n.processMutations.bind(n)(c)}));return o.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}function jl({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const s=typeof t.mousemove=="number"?t.mousemove:50,o=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let i=[],a;const c=Rt(B(l=>{const f=Date.now()-a;e(i.map(h=>(h.timeOffset-=f,h)),l),i=[],a=null}),o),u=B(Rt(B(l=>{const f=Ft(l),{clientX:h,clientY:p}=Vn(l)?l.changedTouches[0]:l;a||(a=un()),i.push({x:h,y:p,id:r.getId(f),timeOffset:un()-a}),c(typeof DragEvent<"u"&&l instanceof DragEvent?R.Drag:l instanceof MouseEvent?R.MouseMove:R.TouchMove)}),s,{trailing:!1})),d=[le("mousemove",u,n),le("touchmove",u,n),le("drag",u,n)];return B(()=>{d.forEach(l=>l())})}function ql({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,sampling:i}){if(i.mouseInteraction===!1)return()=>{};const a=i.mouseInteraction===!0||i.mouseInteraction===void 0?{}:i.mouseInteraction,c=[];let u=null;const d=l=>f=>{const h=Ft(f);if(fe(h,r,s,o,!0))return;let p=null,_=l;if("pointerType"in f){switch(f.pointerType){case"mouse":p=Te.Mouse;break;case"touch":p=Te.Touch;break;case"pen":p=Te.Pen;break}p===Te.Touch?ue[l]===ue.MouseDown?_="TouchStart":ue[l]===ue.MouseUp&&(_="TouchEnd"):Te.Pen}else Vn(f)&&(p=Te.Touch);p!==null?(u=p,(_.startsWith("Touch")&&p===Te.Touch||_.startsWith("Mouse")&&p===Te.Mouse)&&(p=null)):ue[l]===ue.Click&&(p=u,u=null);const b=Vn(f)?f.changedTouches[0]:f;if(!b)return;const y=n.getId(h),{clientX:E,clientY:I}=b;B(e)({type:ue[_],id:y,x:E,y:I,...p!==null&&{pointerType:p}})};return Object.keys(ue).filter(l=>Number.isNaN(Number(l))&&!l.endsWith("_Departed")&&a[l]!==!1).forEach(l=>{let f=ht(l);const h=d(l);if(window.PointerEvent)switch(ue[l]){case ue.MouseDown:case ue.MouseUp:f=f.replace("mouse","pointer");break;case ue.TouchStart:case ue.TouchEnd:return}c.push(le(f,h,t))}),B(()=>{c.forEach(l=>l())})}function Qo({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,sampling:i}){const a=B(Rt(B(c=>{const u=Ft(c);if(!u||fe(u,r,s,o,!0))return;const d=n.getId(u);if(u===t&&t.defaultView){const l=Wo(t.defaultView);e({id:d,x:l.left,y:l.top})}else e({id:d,x:u.scrollLeft,y:u.scrollTop})}),i.scroll||100));return le("scroll",a,t)}function Yl({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const s=B(Rt(B(()=>{const o=zo(),i=jo();(n!==o||r!==i)&&(e({width:Number(i),height:Number(o)}),n=o,r=i)}),200));return le("resize",s,t)}const Xl=["INPUT","TEXTAREA","SELECT"],ws=new WeakMap;function Vl({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,ignoreClass:i,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:d,userTriggeredOnInput:l,maskTextClass:f,unmaskTextClass:h,maskTextSelector:p,unmaskTextSelector:_}){function b(m){let S=Ft(m);const C=m.isTrusted,v=S&&Yn(S.tagName);if(v==="OPTION"&&(S=S.parentElement),!S||!v||Xl.indexOf(v)<0||fe(S,r,s,o,!0))return;const w=S;if(w.classList.contains(i)||a&&w.matches(a))return;const D=_r(S);let U=an(w,v,D),W=!1;const ie=yn({maskInputOptions:c,tagName:v,type:D}),A=pt(S,f,p,h,_,ie);(D==="radio"||D==="checkbox")&&(W=S.checked),U=Tt({isMasked:A,element:S,value:U,maskInputFn:u}),y(S,l?{text:U,isChecked:W,userTriggered:C}:{text:U,isChecked:W});const re=S.name;D==="radio"&&re&&W&&t.querySelectorAll(`input[type="radio"][name="${re}"]`).forEach(F=>{if(F!==S){const ee=Tt({isMasked:A,element:F,value:an(F,v,D),maskInputFn:u});y(F,l?{text:ee,isChecked:!W,userTriggered:!1}:{text:ee,isChecked:!W})}})}function y(m,S){const C=ws.get(m);if(!C||C.text!==S.text||C.isChecked!==S.isChecked){ws.set(m,S);const v=n.getId(m);B(e)({...S,id:v})}}const I=(d.input==="last"?["change"]:["input","change"]).map(m=>le(m,B(b),t)),x=t.defaultView;if(!x)return()=>{I.forEach(m=>m())};const k=x.Object.getOwnPropertyDescriptor(x.HTMLInputElement.prototype,"value"),g=[[x.HTMLInputElement.prototype,"value"],[x.HTMLInputElement.prototype,"checked"],[x.HTMLSelectElement.prototype,"value"],[x.HTMLTextAreaElement.prototype,"value"],[x.HTMLSelectElement.prototype,"selectedIndex"],[x.HTMLOptionElement.prototype,"selected"]];return k&&k.set&&I.push(...g.map(m=>Ho(m[0],m[1],{set(){B(b)({target:this,isTrusted:!1})}},!1,x))),B(()=>{I.forEach(m=>m())})}function ln(e){const t=[];function n(r,s){if(Wt("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||Wt("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||Wt("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||Wt("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const i=Array.from(r.parentRule.cssRules).indexOf(r);s.unshift(i)}else if(r.parentStyleSheet){const i=Array.from(r.parentStyleSheet.cssRules).indexOf(r);s.unshift(i)}return s}return n(e,t)}function $e(e,t,n){let r,s;return e?(e.ownerNode?r=t.getId(e.ownerNode):s=n.getId(e),{styleId:s,id:r}):{}}function Gl({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:B((d,l,f)=>{const[h,p]=f,{id:_,styleId:b}=$e(l,t,n.styleMirror);return(_&&_!==-1||b&&b!==-1)&&e({id:_,styleId:b,adds:[{rule:h,index:p}]}),d.apply(l,f)})});const o=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:B((d,l,f)=>{const[h]=f,{id:p,styleId:_}=$e(l,t,n.styleMirror);return(p&&p!==-1||_&&_!==-1)&&e({id:p,styleId:_,removes:[{index:h}]}),d.apply(l,f)})});let i;r.CSSStyleSheet.prototype.replace&&(i=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(i,{apply:B((d,l,f)=>{const[h]=f,{id:p,styleId:_}=$e(l,t,n.styleMirror);return(p&&p!==-1||_&&_!==-1)&&e({id:p,styleId:_,replace:h}),d.apply(l,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:B((d,l,f)=>{const[h]=f,{id:p,styleId:_}=$e(l,t,n.styleMirror);return(p&&p!==-1||_&&_!==-1)&&e({id:p,styleId:_,replaceSync:h}),d.apply(l,f)})}));const c={};zt("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(zt("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),zt("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),zt("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach(([d,l])=>{u[d]={insertRule:l.prototype.insertRule,deleteRule:l.prototype.deleteRule},l.prototype.insertRule=new Proxy(u[d].insertRule,{apply:B((f,h,p)=>{const[_,b]=p,{id:y,styleId:E}=$e(h.parentStyleSheet,t,n.styleMirror);return(y&&y!==-1||E&&E!==-1)&&e({id:y,styleId:E,adds:[{rule:_,index:[...ln(h),b||0]}]}),f.apply(h,p)})}),l.prototype.deleteRule=new Proxy(u[d].deleteRule,{apply:B((f,h,p)=>{const[_]=p,{id:b,styleId:y}=$e(h.parentStyleSheet,t,n.styleMirror);return(b&&b!==-1||y&&y!==-1)&&e({id:b,styleId:y,removes:[{index:[...ln(h),_]}]}),f.apply(h,p)})})}),B(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=o,i&&(r.CSSStyleSheet.prototype.replace=i),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([d,l])=>{l.prototype.insertRule=u[d].insertRule,l.prototype.deleteRule=u[d].deleteRule})})}function ei({mirror:e,stylesheetManager:t},n){var i,a,c;let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const s=n.nodeName==="#document"?(i=n.defaultView)==null?void 0:i.Document:(c=(a=n.ownerDocument)==null?void 0:a.defaultView)==null?void 0:c.ShadowRoot,o=s!=null&&s.prototype?Object.getOwnPropertyDescriptor(s==null?void 0:s.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!s||!o?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get(){var u;return(u=o.get)==null?void 0:u.call(this)},set(u){var l;const d=(l=o.set)==null?void 0:l.call(this,u);if(r!==null&&r!==-1)try{t.adoptStyleSheets(u,r)}catch{}return d}}),B(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get:o.get,set:o.set})}))}function Kl({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const o=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:B((a,c,u)=>{var _;const[d,l,f]=u;if(n.has(d))return o.apply(c,[d,l,f]);const{id:h,styleId:p}=$e((_=c.parentRule)==null?void 0:_.parentStyleSheet,t,r.styleMirror);return(h&&h!==-1||p&&p!==-1)&&e({id:h,styleId:p,set:{property:d,value:l,priority:f},index:ln(c.parentRule)}),a.apply(c,u)})});const i=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(i,{apply:B((a,c,u)=>{var h;const[d]=u;if(n.has(d))return i.apply(c,[d]);const{id:l,styleId:f}=$e((h=c.parentRule)==null?void 0:h.parentStyleSheet,t,r.styleMirror);return(l&&l!==-1||f&&f!==-1)&&e({id:l,styleId:f,remove:{property:d},index:ln(c.parentRule)}),a.apply(c,u)})}),B(()=>{s.CSSStyleDeclaration.prototype.setProperty=o,s.CSSStyleDeclaration.prototype.removeProperty=i})}function Jl({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:s,sampling:o,doc:i}){const a=B(u=>Rt(B(d=>{const l=Ft(d);if(!l||fe(l,t,n,r,!0))return;const{currentTime:f,volume:h,muted:p,playbackRate:_}=l;e({type:u,id:s.getId(l),currentTime:f,volume:h,muted:p,playbackRate:_})}),o.media||500)),c=[le("play",a(0),i),le("pause",a(1),i),le("seeked",a(2),i),le("volumechange",a(3),i),le("ratechange",a(4),i)];return B(()=>{c.forEach(u=>u())})}function Zl({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,o=n.FontFace;n.FontFace=function(c,u,d){const l=new o(c,u,d);return s.set(l,{family:c,buffer:typeof u!="string",descriptors:d,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),l};const i=yr(t.fonts,"add",function(a){return function(c){return vn(B(()=>{const u=s.get(c);u&&(e(u),s.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=o}),r.push(i),B(()=>{r.forEach(a=>a())})}function Ql(e){const{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,selectionCb:i}=e;let a=!0;const c=B(()=>{const u=t.getSelection();if(!u||a&&(u!=null&&u.isCollapsed))return;a=u.isCollapsed||!1;const d=[],l=u.rangeCount||0;for(let f=0;f<l;f++){const h=u.getRangeAt(f),{startContainer:p,startOffset:_,endContainer:b,endOffset:y}=h;fe(p,r,s,o,!0)||fe(b,r,s,o,!0)||d.push({start:n.getId(p),startOffset:_,end:n.getId(b),endOffset:y})}i({ranges:d})});return c(),le("selectionchange",c)}function ed({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:yr(n.customElements,"define",function(s){return function(o,i,a){try{t({define:{name:o}})}catch{}return s.apply(this,[o,i,a])}})}function td(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=Zo(e,e.doc));const s=jl(e),o=ql(e),i=Qo(e),a=Yl(e,{win:n}),c=Vl(e),u=Jl(e);let d=()=>{},l=()=>{},f=()=>{},h=()=>{};e.recordDOM&&(d=Gl(e,{win:n}),l=ei(e,e.doc),f=Kl(e,{win:n}),e.collectFonts&&(h=Zl(e)));const p=Ql(e),_=ed(e),b=[];for(const y of e.plugins)b.push(y.observer(y.callback,n,y.options));return B(()=>{at.forEach(y=>y.reset()),r==null||r.disconnect(),s(),o(),i(),a(),c(),u(),d(),l(),f(),h(),p(),_(),b.forEach(y=>y())})}function Wt(e){return typeof window[e]<"u"}function zt(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Jn{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,s){const o=r||this.getIdToRemoteIdMap(t),i=s||this.getRemoteIdToIdMap(t);let a=o.get(n);return a||(a=this.generateIdFn(),o.set(n,a),i.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),s=this.getRemoteIdToIdMap(t);return n.map(o=>this.getId(t,o,r,s))}getRemoteId(t,n,r){const s=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const o=s.get(n);return o||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(s=>this.getRemoteId(t,s,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}class nd{constructor(){this.crossOriginIframeMirror=new Jn(gr),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class rd{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Jn(gr),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Jn(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){var s;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),(s=this.loadListener)==null||s.call(this,t);const r=vr(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const s=this.crossOriginIframeMap.get(t.source);if(!s)return;const o=this.transformCrossOriginEvent(s,n.data.event);o&&this.wrappedEmit(o,n.data.isCheckout)}transformCrossOriginEvent(t,n){var r;switch(n.type){case L.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const s=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,s),this.patchRootIdOnNode(n.data.node,s),{timestamp:n.timestamp,type:L.IncrementalSnapshot,data:{source:R.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case L.Meta:case L.Load:case L.DomContentLoaded:return!1;case L.Plugin:return n;case L.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case L.IncrementalSnapshot:switch(n.data.source){case R.Mutation:return n.data.adds.forEach(s=>{this.replaceIds(s,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(s.node,t);const o=this.crossOriginIframeRootIdMap.get(t);o&&this.patchRootIdOnNode(s.node,o)}),n.data.removes.forEach(s=>{this.replaceIds(s,t,["parentId","id"])}),n.data.attributes.forEach(s=>{this.replaceIds(s,t,["id"])}),n.data.texts.forEach(s=>{this.replaceIds(s,t,["id"])}),n;case R.Drag:case R.TouchMove:case R.MouseMove:return n.data.positions.forEach(s=>{this.replaceIds(s,t,["id"])}),n;case R.ViewportResize:return!1;case R.MediaInteraction:case R.MouseInteraction:case R.Scroll:case R.CanvasMutation:case R.Input:return this.replaceIds(n.data,t,["id"]),n;case R.StyleSheetRule:case R.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case R.Font:return n;case R.Selection:return n.data.ranges.forEach(s=>{this.replaceIds(s,t,["start","end"])}),n;case R.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),(r=n.data.styles)==null||r.forEach(s=>{this.replaceStyleIds(s,t,["styleId"])}),n}}return!1}replace(t,n,r,s){for(const o of s)!Array.isArray(n[o])&&typeof n[o]!="number"||(Array.isArray(n[o])?n[o]=t.getIds(r,n[o]):n[o]=t.getId(r,n[o]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==oe.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class sd{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class od{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!kt(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const r=Zo({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(Qo({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),vn(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(ei({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const n=vr(t),r=Bl(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(yr(t.prototype,"attachShadow",function(s){return function(o){const i=s.call(this,o);return this.shadowRoot&&Ko(this)&&r.addShadowRoot(this.shadowRoot,n),i}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}class ks{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class id{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new Ll,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},s=[];for(const o of t){let i;this.styleMirror.has(o)?i=this.styleMirror.getId(o):(i=this.styleMirror.add(o),s.push({styleId:i,rules:Array.from(o.rules||CSSRule,(a,c)=>({rule:Lo(a),index:c}))})),r.styleIds.push(i)}s.length>0&&(r.styles=s),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class ad{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(s=>s!==n)}add(t,n){this.active||(this.active=!0,Fl(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}}let Z,dn;var Js;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=((Js=e.contentWindow)==null?void 0:Js.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const ve=al();function De(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:o=null,unblockSelector:i=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:d="rr-mask",unmaskTextClass:l=null,maskTextSelector:f=null,unmaskTextSelector:h=null,inlineStylesheet:p=!0,maskAllInputs:_,maskInputOptions:b,slimDOMOptions:y,maskAttributeFn:E,maskInputFn:I,maskTextFn:x,maxCanvasSize:k=null,packFn:g,sampling:m={},dataURLOptions:S={},mousemoveWait:C,recordDOM:v=!0,recordCanvas:w=!1,recordCrossOriginIframes:D=!1,recordAfter:U=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:W=!1,collectFonts:ie=!1,inlineImages:A=!1,plugins:re,keepIframeSrcFn:F=()=>!1,ignoreCSSAttributes:ee=new Set([]),errorHandler:de,onMutation:ge,getCanvasManager:Ye}=e;Wl(de);const Ze=D?window.parent===window:!0;let Xe=!1;if(!Ze)try{window.parent.document&&(Xe=!1)}catch{Xe=!0}if(Ze&&!t)throw new Error("emit function is required");if(!Ze&&!Xe)return()=>{};C!==void 0&&m.mousemove===void 0&&(m.mousemove=C),ve.reset();const Ie=_===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:b!==void 0?b:{},ye=y===!0||y==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:y==="all",headMetaDescKeywords:y==="all"}:y||{};Al();let xe,Qe=0;const yt=H=>{for(const be of re||[])be.eventProcessor&&(H=be.eventProcessor(H));return g&&!Xe&&(H=g(H)),H};Z=(H,be)=>{var pe;const P=H;if(P.timestamp=un(),(pe=at[0])!=null&&pe.isFrozen()&&P.type!==L.FullSnapshot&&!(P.type===L.IncrementalSnapshot&&P.data.source===R.Mutation)&&at.forEach(we=>we.unfreeze()),Ze)t==null||t(yt(P),be);else if(Xe){const we={type:"rrweb",event:yt(P),origin:window.location.origin,isCheckout:be};window.parent.postMessage(we,"*")}if(P.type===L.FullSnapshot)xe=P,Qe=0;else if(P.type===L.IncrementalSnapshot){if(P.data.source===R.Mutation&&P.data.isAttachIframe)return;Qe++;const we=r&&Qe>=r,j=n&&xe&&P.timestamp-xe.timestamp>n;(we||j)&&Fe(!0)}};const Ve=H=>{Z({type:L.IncrementalSnapshot,data:{source:R.Mutation,...H}})},et=H=>Z({type:L.IncrementalSnapshot,data:{source:R.Scroll,...H}}),z=H=>Z({type:L.IncrementalSnapshot,data:{source:R.CanvasMutation,...H}}),se=H=>Z({type:L.IncrementalSnapshot,data:{source:R.AdoptedStyleSheet,...H}}),ae=new id({mutationCb:Ve,adoptedStyleSheetCb:se}),te=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new nd:new rd({mirror:ve,mutationCb:Ve,stylesheetManager:ae,recordCrossOriginIframes:D,wrappedEmit:Z});for(const H of re||[])H.getMirror&&H.getMirror({nodeMirror:ve,crossOriginIframeMirror:te.crossOriginIframeMirror,crossOriginIframeStyleMirror:te.crossOriginIframeStyleMirror});const K=new ad,ce=ud(Ye,{mirror:ve,win:window,mutationCb:H=>Z({type:L.IncrementalSnapshot,data:{source:R.CanvasMutation,...H}}),recordCanvas:w,blockClass:s,blockSelector:o,unblockSelector:i,maxCanvasSize:k,sampling:m.canvas,dataURLOptions:S,errorHandler:de}),Ne=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new sd:new od({mutationCb:Ve,scrollCb:et,bypassOptions:{onMutation:ge,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:h,inlineStylesheet:p,maskInputOptions:Ie,dataURLOptions:S,maskAttributeFn:E,maskTextFn:x,maskInputFn:I,recordCanvas:w,inlineImages:A,sampling:m,slimDOMOptions:ye,iframeManager:te,stylesheetManager:ae,canvasManager:ce,keepIframeSrcFn:F,processedNodeManager:K},mirror:ve}),Fe=(H=!1)=>{if(!v)return;Z({type:L.Meta,data:{href:window.location.href,width:jo(),height:zo()}},H),ae.reset(),Ne.init(),at.forEach(P=>P.lock());const be=Rl(document,{mirror:ve,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:h,inlineStylesheet:p,maskAllInputs:Ie,maskAttributeFn:E,maskInputFn:I,maskTextFn:x,slimDOM:ye,dataURLOptions:S,recordCanvas:w,inlineImages:A,onSerialize:P=>{Xo(P,ve)&&te.addIframe(P),Vo(P,ve)&&ae.trackLinkElement(P),Gn(P)&&Ne.addShadowRoot(P.shadowRoot,document)},onIframeLoad:(P,pe)=>{te.attachIframe(P,pe),P.contentWindow&&ce.addWindow(P.contentWindow),Ne.observeAttachShadow(P)},onStylesheetLoad:(P,pe)=>{ae.attachLinkElement(P,pe)},keepIframeSrcFn:F});if(!be)return console.warn("Failed to snapshot the document");Z({type:L.FullSnapshot,data:{node:be,initialOffset:Wo(window)}}),at.forEach(P=>P.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&ae.adoptStyleSheets(document.adoptedStyleSheets,ve.getId(document))};dn=Fe;try{const H=[],be=pe=>{var we;return B(td)({onMutation:ge,mutationCb:Ve,mousemoveCb:(j,Cn)=>Z({type:L.IncrementalSnapshot,data:{source:Cn,positions:j}}),mouseInteractionCb:j=>Z({type:L.IncrementalSnapshot,data:{source:R.MouseInteraction,...j}}),scrollCb:et,viewportResizeCb:j=>Z({type:L.IncrementalSnapshot,data:{source:R.ViewportResize,...j}}),inputCb:j=>Z({type:L.IncrementalSnapshot,data:{source:R.Input,...j}}),mediaInteractionCb:j=>Z({type:L.IncrementalSnapshot,data:{source:R.MediaInteraction,...j}}),styleSheetRuleCb:j=>Z({type:L.IncrementalSnapshot,data:{source:R.StyleSheetRule,...j}}),styleDeclarationCb:j=>Z({type:L.IncrementalSnapshot,data:{source:R.StyleDeclaration,...j}}),canvasMutationCb:z,fontCb:j=>Z({type:L.IncrementalSnapshot,data:{source:R.Font,...j}}),selectionCb:j=>{Z({type:L.IncrementalSnapshot,data:{source:R.Selection,...j}})},customElementCb:j=>{Z({type:L.IncrementalSnapshot,data:{source:R.CustomElement,...j}})},blockClass:s,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:h,maskInputOptions:Ie,inlineStylesheet:p,sampling:m,recordDOM:v,recordCanvas:w,inlineImages:A,userTriggeredOnInput:W,collectFonts:ie,doc:pe,maskAttributeFn:E,maskInputFn:I,maskTextFn:x,keepIframeSrcFn:F,blockSelector:o,unblockSelector:i,slimDOMOptions:ye,dataURLOptions:S,mirror:ve,iframeManager:te,stylesheetManager:ae,shadowDomManager:Ne,processedNodeManager:K,canvasManager:ce,ignoreCSSAttributes:ee,plugins:((we=re==null?void 0:re.filter(j=>j.observer))==null?void 0:we.map(j=>({observer:j.observer,options:j.options,callback:Cn=>Z({type:L.Plugin,data:{plugin:j.name,payload:Cn}})})))||[]},{})};te.addLoadListener(pe=>{try{H.push(be(pe.contentDocument))}catch(we){console.warn(we)}});const P=()=>{Fe(),H.push(be(document))};return document.readyState==="interactive"||document.readyState==="complete"?P():(H.push(le("DOMContentLoaded",()=>{Z({type:L.DomContentLoaded,data:{}}),U==="DOMContentLoaded"&&P()})),H.push(le("load",()=>{Z({type:L.Load,data:{}}),U==="load"&&P()},window))),()=>{H.forEach(pe=>pe()),K.destroy(),dn=void 0,zl()}}catch(H){console.warn(H)}}function cd(e){if(!dn)throw new Error("please take full snapshot after start recording");dn(e)}De.mirror=ve;De.takeFullSnapshot=cd;function ud(e,t){try{return e?e(t):new ks}catch{return console.warn("Unable to initialize CanvasManager"),new ks}}const ld=3,dd=5;function Sr(e){return e>9999999999?e:e*1e3}function Mn(e){return e>9999999999?e/1e3:e}function Pt(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:L.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:po(t,10,1e3)}}),t.category==="console")))}const fd="button,a";function ti(e){return e.closest(fd)||e}function ni(e){const t=ri(e);return!t||!(t instanceof Element)?t:ti(t)}function ri(e){return hd(e)?e.target:e}function hd(e){return typeof e=="object"&&!!e&&"target"in e}let Ue;function pd(e){return Ue||(Ue=[],md()),Ue.push(e),()=>{const t=Ue?Ue.indexOf(e):-1;t>-1&&Ue.splice(t,1)}}function md(){Ee(V,"open",function(e){return function(...t){if(Ue)try{Ue.forEach(n=>n())}catch{}return e.apply(V,t)}})}const _d=new Set([R.Mutation,R.StyleSheetRule,R.StyleDeclaration,R.AdoptedStyleSheet,R.CanvasMutation,R.Selection,R.MediaInteraction]);function gd(e,t,n){e.handleClick(t,n)}class yd{constructor(t,n,r=Pt){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=pd(()=>{this._lastMutation=Cs()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(vd(n,this._ignoreSelector)||!Sd(t))return;const r={timestamp:Mn(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(s=>s.node===r.node&&Math.abs(s.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Mn(t)}registerScroll(t=Date.now()){this._lastScroll=Mn(t)}registerClick(t){const n=ti(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=Cs();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const s=this._clicks.indexOf(r);s>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,s=t.mutationAfter&&t.mutationAfter<=this._threshold,o=!r&&!s,{clickCount:i,clickBreadcrumb:a}=t;if(o){const c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",d={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:V.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:i||1}};this._addBreadcrumbEvent(n,d);return}if(i>1){const c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:V.location.href,route:n.getCurrentRoute(),clickCount:i,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=ft(()=>this._checkClicks(),1e3)}}const bd=["A","BUTTON","INPUT"];function vd(e,t){return!!(!bd.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function Sd(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function Cs(){return Date.now()/1e3}function Ed(e,t){try{if(!wd(t))return;const{source:n}=t.data;if(_d.has(n)&&e.registerMutation(t.timestamp),n===R.Scroll&&e.registerScroll(t.timestamp),kd(t)){const{type:r,id:s}=t.data,o=De.mirror.getNode(s);o instanceof HTMLElement&&r===ue.Click&&e.registerClick(o)}}catch{}}function wd(e){return e.type===ld}function kd(e){return e.data.source===R.MouseInteraction}function Ce(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var fn;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(fn||(fn={}));const Cd=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function Id(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(Cd.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const xd=e=>t=>{if(!e.isEnabled())return;const n=Td(t);if(!n)return;const r=t.name==="click",s=r?t.event:void 0;r&&e.clickDetector&&s&&s.target&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&gd(e.clickDetector,n,ni(t.event)),Pt(e,n)};function si(e,t){const n=De.mirror.getId(e),r=n&&De.mirror.getNode(n),s=r&&De.mirror.getMeta(r),o=s&&Rd(s)?s:null;return{message:t,data:o?{nodeId:n,node:{id:n,tagName:o.tagName,textContent:Array.from(o.childNodes).map(i=>i.type===fn.Text&&i.textContent).filter(Boolean).map(i=>i.trim()).join(""),attributes:Id(o.attributes)}}:{}}}function Td(e){const{target:t,message:n}=Md(e);return Ce({category:`ui.${e.name}`,...si(t,n)})}function Md(e){const t=e.name==="click";let n,r=null;try{r=t?ni(e.event):ri(e.event),n=ur(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function Rd(e){return e.type===fn.Element}function Dd(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=Ad(t);n&&Pt(e,n)}function Ad(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:o,target:i}=e;if(!i||Ld(i)||!o)return null;const a=t||r||s,c=o.length===1;if(!a&&c)return null;const u=ur(i,{maxStringLength:200})||"<unknown>",d=si(i,u);return Ce({category:"ui.keyDown",message:u,data:{...d.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:o}})}function Ld(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const Od={resource:$d,paint:Pd,navigation:Bd};function jt(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function Nd(e){return e.map(Fd).filter(Boolean)}function Fd(e){const t=Od[e.entryType];return t?t(e):null}function mt(e){return((va()||V.performance.timeOrigin)+e)/1e3}function Pd(e){const{duration:t,entryType:n,name:r,startTime:s}=e,o=mt(s);return{type:n,name:r,start:o,end:o+t,data:void 0}}function Bd(e){const{entryType:t,name:n,decodedBodySize:r,duration:s,domComplete:o,encodedBodySize:i,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:d,loadEventEnd:l,redirectCount:f,startTime:h,transferSize:p,type:_}=e;return s===0?null:{type:`${t}.${_}`,start:mt(h),end:mt(o),name:n,data:{size:p,decodedBodySize:r,encodedBodySize:i,duration:s,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:d,loadEventEnd:l,domComplete:o,redirectCount:f}}}function $d(e){const{entryType:t,initiatorType:n,name:r,responseEnd:s,startTime:o,decodedBodySize:i,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:mt(o),end:mt(s),name:r,data:{size:u,statusCode:c,decodedBodySize:i,encodedBodySize:a}}}function Ud(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.element?[t.element]:void 0;return Sn(e,"largest-contentful-paint",n)}function Hd(e){return e.sources!==void 0}function Wd(e){const t=[],n=[];for(const r of e.entries)if(Hd(r)){const s=[];for(const o of r.sources)if(o.node){n.push(o.node);const i=De.mirror.getId(o.node);i&&s.push(i)}t.push({value:r.value,nodeIds:s.length?s:void 0})}return Sn(e,"cumulative-layout-shift",n,t)}function zd(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.target?[t.target]:void 0;return Sn(e,"first-input-delay",n)}function jd(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.target?[t.target]:void 0;return Sn(e,"interaction-to-next-paint",n)}function Sn(e,t,n,r){const s=e.value,o=e.rating,i=mt(s);return{type:"web-vital",name:t,start:i,end:i,data:{value:s,size:s,rating:o,nodeIds:n?n.map(a=>De.mirror.getId(a)):void 0,attributions:r}}}function qd(e){function t(s){e.performanceEntries.includes(s)||e.performanceEntries.push(s)}function n({entries:s}){s.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(s=>{r.push(fa(s,n))}),r.push(ha(jt(Ud,e)),pa(jt(Wd,e)),ma(jt(zd,e)),_a(jt(jd,e))),()=>{r.forEach(s=>s())}}const T=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Yd='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort((function(t,n){return p[n.s]-p[t.s]||t.f-n.f}));s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){G.prototype.flush.call(this)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(J)return J.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),s=i.length;return q(i,n),j(i,s-8,r.d()),j(i,s-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function Xd(){const e=new Blob([Yd]);return URL.createObjectURL(e)}const Is=["info","warn","error","log"],Kt="[Replay] ";function Rn(e,t="info"){je({category:"console",data:{logger:"replay"},level:t,message:`${Kt}${e}`},{level:t})}function Vd(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=!!r.captureExceptions,t=!!r.traceInternals}};return T?(Is.forEach(r=>{n[r]=(...s)=>{N[r](Kt,...s),t&&Rn(s.join(""),vo(r))}}),n.exception=(r,...s)=>{s.length&&n.error&&n.error(...s),N.error(Kt,r),e?Sa(r):t&&Rn(r,"error")},n.infoTick=(...r)=>{N.info(Kt,...r),t&&setTimeout(()=>Rn(r[0]),0)}):Is.forEach(r=>{n[r]=()=>{}}),n}const M=Vd();class Er extends Error{constructor(){super(`Event buffer exceeded maximum size of ${mr}.`)}}class oi{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>mr)throw new Er;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?Sr(t):null}}class Gd{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){T&&M.info("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((s,o)=>{const i=({data:a})=>{const c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",i),!c.success){T&&M.error("Error in compression worker: ",c.response),o(new Error("Error in compression worker"));return}s(c.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class Kd{constructor(t){this._worker=new Gd(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=Sr(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>mr?Promise.reject(new Er):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{T&&M.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class Jd{constructor(t){this._fallback=new oi,this._compression=new Kd(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){T&&M.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,s=[];for(const o of t)s.push(this._compression.addEvent(o));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(s),this._fallback.clear()}catch(o){T&&M.exception(o,"Failed to add events when switching buffers.")}}}function Zd({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=Qd(t);if(n)return n}return T&&M.info("Using simple buffer"),new oi}function Qd(e){try{const t=e||ef();if(!t)return;T&&M.info(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new Jd(n)}catch(t){T&&M.exception(t,"Failed to create compression worker")}}function ef(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?Xd():""}function wr(){try{return"sessionStorage"in V&&!!V.sessionStorage}catch{return!1}}function tf(e){nf(),e.session=void 0}function nf(){if(wr())try{V.sessionStorage.removeItem(hr)}catch{}}function ii(e){return e===void 0?!1:Math.random()<e}function ai(e){const t=Date.now(),n=e.id||Et(),r=e.started||t,s=e.lastActivity||t,o=e.segmentId||0,i=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:s,segmentId:o,sampled:i,previousSessionId:a}}function kr(e){if(wr())try{V.sessionStorage.setItem(hr,JSON.stringify(e))}catch{}}function rf(e,t){return ii(e)?"session":t?"buffer":!1}function xs({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const s=rf(e,t),o=ai({sampled:s,previousSessionId:r});return n&&kr(o),o}function sf(){if(!wr())return null;try{const e=V.sessionStorage.getItem(hr);if(!e)return null;const t=JSON.parse(e);return T&&M.infoTick("Loading existing session"),ai(t)}catch{return null}}function Zn(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function ci(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return Zn(e.started,t,r)||Zn(e.lastActivity,n,r)}function ui(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!ci(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function Dn({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const s=r.stickySession&&sf();return s?ui(s,{sessionIdleExpire:e,maxReplayDuration:t})?(T&&M.infoTick("Session in sessionStorage is expired, creating new one..."),xs(r,{previousSessionId:s.id})):s:(T&&M.infoTick("Creating new session"),xs(r,{previousSessionId:n}))}function of(e){return e.type===L.Custom}function Cr(e,t,n){return di(e,t)?(li(e,t,n),!0):!1}function af(e,t,n){return di(e,t)?li(e,t,n):Promise.resolve(null)}async function li(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const s=e.recordingMode==="buffer";try{n&&s&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const o=e.getOptions(),i=cf(t,o.beforeAddRecordingEvent);return i?await r.addEvent(i):void 0}catch(o){const i=o&&o instanceof Er,a=i?"addEventSizeExceeded":"addEvent";if(i&&s)return r.clear(),r.waitForCheckout=!0,null;e.handleException(o),await e.stop({reason:a});const c=Q();c&&c.recordDroppedEvent("internal_sdk_error","replay")}}function di(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=Sr(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(T&&M.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function cf(e,t){try{if(typeof t=="function"&&of(e))return t(e)}catch(n){return T&&M.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function Ir(e){return!e.type}function Qn(e){return e.type==="transaction"}function uf(e){return e.type==="replay_event"}function Ts(e){return e.type==="feedback"}function lf(e){return(t,n)=>{if(!e.isEnabled()||!Ir(t)&&!Qn(t))return;const r=n==null?void 0:n.statusCode;if(!(!r||r<200||r>=300)){if(Qn(t)){df(e,t);return}ff(e,t)}}}function df(e,t){var r,s;const n=e.getContext();(s=(r=t.contexts)==null?void 0:r.trace)!=null&&s.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function ff(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||ft(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(s){e.handleException(s)}})}function hf(e){return t=>{!e.isEnabled()||!Ir(t)||pf(e,t)}}function pf(e,t){var r,s,o;const n=(o=(s=(r=t.exception)==null?void 0:r.values)==null?void 0:s[0])==null?void 0:o.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const i=Ce({category:"replay.hydrate-error",data:{url:Nt()}});Pt(e,i)}}function mf(e){const t=Q();t&&t.on("beforeAddBreadcrumb",n=>_f(e,n))}function _f(e,t){if(!e.isEnabled()||!fi(t))return;const n=gf(t);n&&Pt(e,n)}function gf(e){return!fi(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?yf(e):Ce(e)}function yf(e){var s;const t=(s=e.data)==null?void 0:s.arguments;if(!Array.isArray(t)||t.length===0)return Ce(e);let n=!1;const r=t.map(o=>{if(!o)return o;if(typeof o=="string")return o.length>Ht?(n=!0,`${o.slice(0,Ht)}…`):o;if(typeof o=="object")try{const i=po(o,7);return JSON.stringify(i).length>Ht?(n=!0,`${JSON.stringify(i,null,2).slice(0,Ht)}…`):i}catch{}return o});return Ce({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function fi(e){return!!e.category}function bf(e,t){var n;return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!((n=t.originalException)!=null&&n.__rrweb__)}function hi(){const e=qe().getPropagationContext().dsc;e&&delete e.replay_id;const t=ho();if(t){const n=ga(t);delete n.replay_id}}function vf(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:L.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function Sf(e,t){return e.recordingMode!=="buffer"||t.message===pr||!t.exception||t.type?!1:ii(e.getOptions().errorSampleRate)}function Ef(e){return Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:uf(t)?(delete t.breadcrumbs,t):!Ir(t)&&!Qn(t)&&!Ts(t)?t:e.checkAndHandleExpiredSession()?Ts(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),vf(e,t),t):bf(t,n)&&!e.getOptions()._experiments.captureExceptions?(T&&M.log("Ignoring error from rrweb internals",t),null):((Sf(e,t)||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):(hi(),t),{id:"Replay"})}function En(e,t){return t.map(({type:n,start:r,end:s,name:o,data:i})=>{const a=e.throttledAddEvent({type:L.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:o,startTimestamp:r,endTimestamp:s,data:i}}});return typeof a=="string"?Promise.resolve(null):a})}function wf(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function kf(e){return t=>{if(!e.isEnabled())return;const n=wf(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(En(e,[n]),!1)))}}function Cf(e,t){return T&&e.getOptions()._experiments.traceInternals?!1:qa(t,Q())}function pi(e,t){e.isEnabled()&&t!==null&&(Cf(e,t.name)||e.addUpdate(()=>(En(e,[t]),!0)))}function wn(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=xo(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function mi(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function hn(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function _i(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:o,statusCode:i,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:s,data:Lt({method:o,statusCode:i,request:a,response:c})}}function Dt(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function ze(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:s,warnings:o}=If(n);return r.body=s,o!=null&&o.length&&(r._meta={warnings:o}),r}function er(e,t){return Object.entries(e).reduce((n,[r,s])=>{const o=r.toLowerCase();return t.includes(o)&&e[r]&&(n[o]=s),n},{})}function If(e){if(!e||typeof e!="string")return{body:e};const t=e.length>us,n=xf(e);if(t){const r=e.slice(0,us);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}…`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function xf(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function pn(e,t){const n=Tf(e);return Ot(n,t)}function Tf(e,t=V.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(V.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function Mf(e,t,n){try{const r=await Df(e,t,n),s=_i("resource.fetch",r);pi(n.replay,s)}catch(r){T&&M.exception(r,"Failed to capture fetch breadcrumb")}}function Rf(e,t){const{input:n,response:r}=t,s=n?Mo(n):void 0,o=wn(s),i=r?mi(r.headers.get("content-length")):void 0;o!==void 0&&(e.data.request_body_size=o),i!==void 0&&(e.data.response_body_size=i)}async function Df(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:o=r}=t,{url:i,method:a,status_code:c=0,request_body_size:u,response_body_size:d}=e.data,l=pn(i,n.networkDetailAllowUrls)&&!pn(i,n.networkDetailDenyUrls),f=l?Af(n,t.input,u):Dt(u),h=await Lf(l,n,t.response,d);return{startTimestamp:s,endTimestamp:o,url:i,method:a,statusCode:c,request:f,response:h}}function Af({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const s=n?Ff(n,t):{};if(!e)return ze(s,r,void 0);const o=Mo(n),[i,a]=To(o,M),c=ze(s,r,i);return a?hn(c,a):c}async function Lf(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,s){if(!e&&s!==void 0)return Dt(s);const o=r?gi(r.headers,n):{};if(!r||!t&&s!==void 0)return ze(o,s,void 0);const[i,a]=await Nf(r),c=Of(i,{networkCaptureBodies:t,responseBodySize:s,captureDetails:e,headers:o});return a?hn(c,a):c}function Of(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:s}){try{const o=e!=null&&e.length&&n===void 0?wn(e):n;return r?t?ze(s,o,e):ze(s,o,void 0):Dt(o)}catch(o){return T&&M.exception(o,"Failed to serialize response body"),ze(s,n,void 0)}}async function Nf(e){const t=Pf(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await Bf(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(T&&M.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(T&&M.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function gi(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function Ff(e,t){return e.length===1&&typeof e[0]!="string"?Ms(e[0],t):e.length===2?Ms(e[1],t):{}}function Ms(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?gi(n,t):Array.isArray(n)?{}:er(n,t):{}}function Pf(e){try{return e.clone()}catch(t){T&&M.exception(t,"Failed to clone response body")}}function Bf(e){return new Promise((t,n)=>{const r=ft(()=>n(new Error("Timeout while trying to read response body")),500);$f(e).then(s=>t(s),s=>n(s)).finally(()=>clearTimeout(r))})}async function $f(e){return await e.text()}async function Uf(e,t,n){try{const r=Wf(e,t,n),s=_i("resource.xhr",r);pi(n.replay,s)}catch(r){T&&M.exception(r,"Failed to capture xhr breadcrumb")}}function Hf(e,t){const{xhr:n,input:r}=t;if(!n)return;const s=wn(r),o=n.getResponseHeader("content-length")?mi(n.getResponseHeader("content-length")):Yf(n.response,n.responseType);s!==void 0&&(e.data.request_body_size=s),o!==void 0&&(e.data.response_body_size=o)}function Wf(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:o=r,input:i,xhr:a}=t,{url:c,method:u,status_code:d=0,request_body_size:l,response_body_size:f}=e.data;if(!c)return null;if(!a||!pn(c,n.networkDetailAllowUrls)||pn(c,n.networkDetailDenyUrls)){const g=Dt(l),m=Dt(f);return{startTimestamp:s,endTimestamp:o,url:c,method:u,statusCode:d,request:g,response:m}}const h=a[uo],p=h?er(h.request_headers,n.networkRequestHeaders):{},_=er(zf(a),n.networkResponseHeaders),[b,y]=n.networkCaptureBodies?To(i,M):[void 0],[E,I]=n.networkCaptureBodies?jf(a):[void 0],x=ze(p,l,b),k=ze(_,f,E);return{startTimestamp:s,endTimestamp:o,url:c,method:u,statusCode:d,request:y?hn(x,y):x,response:I?hn(k,I):k}}function zf(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[s,o]=r.split(": ");return o&&(n[s.toLowerCase()]=o),n},{}):{}}function jf(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return qf(e.response,e.responseType)}catch(n){t.push(n)}return T&&M.warn("Failed to get xhr response body",...t),[void 0]}function qf(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return T&&M.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return T&&M.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Yf(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return wn(n)}catch{return}}function Xf(e){const t=Q();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:i}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:i};t&&t.on("beforeAddBreadcrumb",(c,u)=>Vf(a,c,u))}catch{}}function Vf(e,t,n){if(t.data)try{Gf(t)&&Jf(n)&&(Hf(t,n),Uf(t,n,e)),Kf(t)&&Zf(n)&&(Rf(t,n),Mf(t,n,e))}catch(r){T&&M.exception(r,"Error when enriching network breadcrumb")}}function Gf(e){return e.category==="xhr"}function Kf(e){return e.category==="fetch"}function Jf(e){return e==null?void 0:e.xhr}function Zf(e){return e==null?void 0:e.response}function Qf(e,{autoFlushOnFeedback:t}){const n=Q();Co(xd(e)),cr(kf(e)),mf(e),Xf(e);const r=Ef(e);ya(r),n&&(n.on("beforeSendEvent",hf(e)),n.on("afterSendEvent",lf(e)),n.on("createDsc",s=>{const o=e.getSessionId();o&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(s.replay_id=o)}),n.on("spanStart",s=>{e.lastActiveSpan=s}),n.on("spanEnd",s=>{e.lastActiveSpan=s}),n.on("beforeSendFeedback",async(s,o)=>{var a;const i=e.getSessionId();o!=null&&o.includeReplay&&e.isEnabled()&&i&&((a=s.contexts)!=null&&a.feedback)&&(s.contexts.feedback.source==="api"&&t&&await e.flush(),s.contexts.feedback.replay_id=i)}),t&&n.on("openFeedbackWidget",async()=>{await e.flush()}))}async function eh(e){try{return Promise.all(En(e,[th(V.performance.memory)]))}catch{return[]}}function th(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function nh(e,t,n){let r,s,o;const i=n!=null&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return c(),r=e(),r}function c(){s!==void 0&&clearTimeout(s),o!==void 0&&clearTimeout(o),s=o=void 0}function u(){return s!==void 0||o!==void 0?a():r}function d(){return s&&clearTimeout(s),s=ft(a,t),i&&o===void 0&&(o=ft(a,i)),r}return d.cancel=c,d.flush=u,d}const me=He.navigator;function rh(){return/iPhone|iPad|iPod/i.test((me==null?void 0:me.userAgent)??"")||/Macintosh/i.test((me==null?void 0:me.userAgent)??"")&&(me!=null&&me.maxTouchPoints)&&(me==null?void 0:me.maxTouchPoints)>1?{sampling:{mousemove:!1}}:{}}function sh(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){T&&M.warn("Received replay event after session expired.");return}const s=r||!t;t=!0,e.clickDetector&&Ed(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&s&&e.setInitialState(),!Cr(e,n,s))return!0;if(!s)return!1;const o=e.session;if(ih(e,s),e.recordingMode==="buffer"&&o&&e.eventBuffer){const i=e.eventBuffer.getEarliestTimestamp();i&&(T&&M.info(`Updating session start time to earliest event in buffer to ${new Date(i)}`),o.started=i,e.getOptions().stickySession&&kr(o))}return o!=null&&o.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function oh(e){const t=e.getOptions();return{type:L.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function ih(e,t){!t||!e.session||e.session.segmentId!==0||Cr(e,oh(e),!1)}function ah(e,t,n,r){return or(Ea(e,wa(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function ch({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const o=new TextEncoder().encode(r);n=new Uint8Array(o.length+e.length),n.set(o),n.set(e,o.length)}return n}async function uh({client:e,scope:t,replayId:n,event:r}){const s=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,o={event_id:n,integrations:s};e.emit("preprocessEvent",r,o);const i=await no(e.getOptions(),r,o,t,e,_n());if(!i)return null;e.emit("postprocessEvent",i,o),i.platform=i.platform||"javascript";const a=e.getSdkMetadata(),{name:c,version:u}=(a==null?void 0:a.sdk)||{};return i.sdk={...i.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0"},i}async function lh({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:s,session:o}){const i=ch({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:d}=r,l=Q(),f=qe(),h=l==null?void 0:l.getTransport(),p=l==null?void 0:l.getDsn();if(!l||!h||!p||!o.sampled)return Ae({});const _={type:Wu,replay_start_timestamp:d/1e3,timestamp:s/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:o.sampled},b=await uh({scope:f,client:l,replayId:t,event:_});if(!b)return l.recordDroppedEvent("event_processor","replay"),T&&M.info("An event processor returned `null`, will not send event."),Ae({});delete b.sdkProcessingMetadata;const y=ah(b,i,p,l.getOptions().tunnel);let E;try{E=await h.send(y)}catch(x){const k=new Error(pr);try{k.cause=x}catch{}throw k}if(typeof E.statusCode=="number"&&(E.statusCode<200||E.statusCode>=300))throw new yi(E.statusCode);const I=yo({},E);if(go(I,"replay"))throw new xr(I);return E}class yi extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class xr extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function bi(e,t={count:0,interval:Vu}){const{recordingData:n,onError:r}=e;if(n.length)try{return await lh(e),!0}catch(s){if(s instanceof yi||s instanceof xr)throw s;if(ba("Replays",{_retryCount:t.count}),r&&r(s),t.count>=Gu){const o=new Error(`${pr} - max retries exceeded`);try{o.cause=s}catch{}throw o}return t.interval*=++t.count,new Promise((o,i)=>{ft(async()=>{try{await bi(e,t),o(!0)}catch(a){i(a)}},t.interval)})}}const vi="__THROTTLED",dh="__SKIPPED";function fh(e,t,n){const r=new Map,s=a=>{const c=a-n;r.forEach((u,d)=>{d<c&&r.delete(d)})},o=()=>[...r.values()].reduce((a,c)=>a+c,0);let i=!1;return(...a)=>{const c=Math.floor(Date.now()/1e3);if(s(c),o()>=t){const d=i;return i=!0,d?dh:vi}i=!1;const u=r.get(c)||0;return r.set(c,u+1),e(...a)}}class hh{constructor({options:t,recordingOptions:n}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:zu,sessionIdleExpire:ju},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=nh(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=fh((i,a)=>af(this,i,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),o=r?{threshold:Math.min(Ku,r),timeout:r,scrollTimeout:Ju,ignoreSelector:s?s.join(","):""}:void 0;if(o&&(this.clickDetector=new yd(this,o)),T){const i=t._experiments;M.setConfig({captureExceptions:!!i.captureExceptions,traceInternals:!!i.traceInternals})}this._handleVisibilityChange=()=>{V.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const i=Ce({category:"ui.blur"});this._doChangeToBackgroundTasks(i)},this._handleWindowFocus=()=>{const i=Ce({category:"ui.focus"});this._doChangeToForegroundTasks(i)},this._handleKeyboardEvent=i=>{Dd(this,i)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){T&&M.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options,s=n<=0&&r<=0;if(this._requiresManualStart=s,!s){if(this._initializeSessionForSampling(t),!this.session){T&&M.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",T&&M.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){T&&M.info("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){T&&M.info("Buffering is in progress, call `flush()` to save the replay");return}T&&M.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=Dn({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled){T&&M.info("Buffering is in progress, call `flush()` to save the replay");return}T&&M.infoTick("Starting replay in buffer mode");const t=Dn({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=De({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:Xu}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:sh(this),...rh(),onMutation:this._onMutationHandler.bind(this),...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){var r;if(this._isEnabled){this._isEnabled=!1;try{T&&M.info(`Stopping Replay${n?` triggered by ${n}`:""}`),hi(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),(r=this.eventBuffer)==null||r.destroy(),this.eventBuffer=null,tf(this)}catch(s){this.handleException(s)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),T&&M.info("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),T&&M.info("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();T&&M.info("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){var t;return(t=this.session)==null?void 0:t.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Zn(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${V.location.pathname}${V.location.hash}${V.location.search}`,n=`${V.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===vi){const s=Ce({category:"replay.throttled"});this.addUpdate(()=>!Cr(this,{type:dd,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastActiveSpan||ho(),n=t&&la(t),s=(n&&Vr(n).data||{})[da];if(!(!n||!s||!["route","custom"].includes(s)))return Vr(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=Zd({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=Dn({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return ui(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{V.document.addEventListener("visibilitychange",this._handleVisibilityChange),V.addEventListener("blur",this._handleWindowBlur),V.addEventListener("focus",this._handleWindowFocus),V.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(Qf(this,{autoFlushOnFeedback:this._options._experiments.autoFlushOnFeedback}),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=qd(this)}_removeListeners(){try{V.document.removeEventListener("visibilitychange",this._handleVisibilityChange),V.removeEventListener("blur",this._handleWindowBlur),V.removeEventListener("focus",this._handleWindowFocus),V.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}_doChangeToBackgroundTasks(t){!this.session||ci(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){T&&M.info("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:L.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=Nd(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(En(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){var n;const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){T&&M.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!((n=this.eventBuffer)!=null&&n.hasEvents)&&(await eh(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const r=Date.now();if(r-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const s=this._popEventContext(),o=this.session.segmentId++;this._maybeSaveSession();const i=await this.eventBuffer.finish();await bi({replayId:t,recordingData:i,segmentId:o,eventContext:s,session:this.session,timestamp:r,onError:a=>this.handleException(a)})}catch(r){this.handleException(r),this.stop({reason:"sendReplay"});const s=Q();if(s){const o=r instanceof xr?"ratelimit_backoff":"send_error";s.recordDroppedEvent(o,"replay")}}}async _flush({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){T&&M.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,s=Date.now()-n;this._debouncedFlush.cancel();const o=s<this._options.minReplayDuration,i=s>this._options.maxReplayDuration+5e3;if(o||i){T&&M.info(`Session duration (${Math.floor(s/1e3)}s) is too ${o?"short":"long"}, not sending replay.`),o&&this._debouncedFlush();return}const a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&T&&M.info("Flushing initial segment without checkout.");const c=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(u){this.handleException(u)}finally{this._flushLock=void 0,c&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&kr(this.session)}_onMutationHandler(t){const n=t.length,r=this._options.mutationLimit,s=this._options.mutationBreadcrumbLimit,o=r&&n>r;if(n>s||o){const i=Ce({category:"replay.mutations",data:{count:n,limit:o}});this._createCustomBreadcrumb(i)}return o?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}function bt(e,t){return[...e,...t].join(",")}function ph({mask:e,unmask:t,block:n,unblock:r,ignore:s}){const o=["base","iframe[srcdoc]:not([src])"],i=bt(e,[".sentry-mask","[data-sentry-mask]"]),a=bt(t,[]);return{maskTextSelector:i,unmaskTextSelector:a,blockSelector:bt(n,[".sentry-block","[data-sentry-block]",...o]),unblockSelector:bt(r,[]),ignoreSelector:bt(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function mh({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:s,value:o}){return!r||s.unmaskTextSelector&&e.matches(s.unmaskTextSelector)?o:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o}const Rs='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',_h=["content-length","content-type","accept"];let Ds=!1;const gh=e=>new yh(e);class yh{constructor({flushMinDelay:t=qu,flushMaxDelay:n=Yu,minReplayDuration:r=Zu,maxReplayDuration:s=ls,stickySession:o=!0,useCompression:i=!0,workerUrl:a,_experiments:c={},maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:l=!0,mutationBreadcrumbLimit:f=750,mutationLimit:h=1e4,slowClickTimeout:p=7e3,slowClickIgnoreSelectors:_=[],networkDetailAllowUrls:b=[],networkDetailDenyUrls:y=[],networkCaptureBodies:E=!0,networkRequestHeaders:I=[],networkResponseHeaders:x=[],mask:k=[],maskAttributes:g=["title","placeholder"],unmask:m=[],block:S=[],unblock:C=[],ignore:v=[],maskFn:w,beforeAddRecordingEvent:D,beforeErrorSampling:U,onError:W}={}){this.name="Replay";const ie=ph({mask:k,unmask:m,block:S,unblock:C,ignore:v});if(this._recordingOptions={maskAllInputs:d,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:w,maskInputFn:w,maskAttributeFn:(A,re,F)=>mh({maskAttributes:g,maskAllText:u,privacyOptions:ie,key:A,value:re,el:F}),...ie,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:A=>{try{A.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,Qu),maxReplayDuration:Math.min(s,ls),stickySession:o,useCompression:i,workerUrl:a,blockAllMedia:l,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:f,mutationLimit:h,slowClickTimeout:p,slowClickIgnoreSelectors:_,networkDetailAllowUrls:b,networkDetailDenyUrls:y,networkCaptureBodies:E,networkRequestHeaders:As(I),networkResponseHeaders:As(x),beforeAddRecordingEvent:D,beforeErrorSampling:U,onError:W,_experiments:c},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Rs}`:Rs),this._isInitialized&&Hn())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Ds}set _isInitialized(t){Ds=t}afterAllSetup(t){!Hn()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){var t;if((t=this._replay)!=null&&t.isEnabled())return this._replay.getSessionId()}getRecordingMode(){var t;if((t=this._replay)!=null&&t.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const n=bh(this._initialOptions,t);this._replay=new hh({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}function bh(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...Lt(e)},s=Fn(n.replaysSessionSampleRate),o=Fn(n.replaysOnErrorSampleRate);return s==null&&o==null&&gn(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),s!=null&&(r.sessionSampleRate=s),o!=null&&(r.errorSampleRate=o),r}function As(e){return[..._h,...e.map(t=>t.toLowerCase())]}const _e=He,$=_e.document,vt=_e.navigator,Si="Report a Bug",vh="Cancel",Sh="Send Bug Report",Eh="Confirm",wh="Report a Bug",kh="your.email@example.org",Ch="Email",Ih="What's the bug? What did you expect?",xh="Description",Th="Your Name",Mh="Name",Rh="Thank you for your report!",Dh="(required)",Ah="Add a screenshot",Lh="Remove screenshot",Oh="widget",Nh="api",Fh=5e3,Ph=(e,t={includeReplay:!0})=>{if(!e.message)throw new Error("Unable to submit feedback with empty message");const n=Q();if(!n)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&qe().setTags(e.tags);const r=wc({source:Nh,url:Nt(),...e},t);return new Promise((s,o)=>{const i=setTimeout(()=>o("Unable to determine if Feedback was correctly sent."),5e3),a=n.on("afterSendEvent",(c,u)=>{if(c.event_id===r)return clearTimeout(i),a(),u&&typeof u.statusCode=="number"&&u.statusCode>=200&&u.statusCode<300?s(r):u&&typeof u.statusCode=="number"&&u.statusCode===0?o("Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker."):u&&typeof u.statusCode=="number"&&u.statusCode===403?o("Unable to send Feedback. This could be because this domain is not in your list of allowed domains."):o("Unable to send Feedback. This could be because of network issues, or because you are using an ad-blocker")})})},Jt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Bh(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(vt.userAgent)||/Macintosh/i.test(vt.userAgent)&&vt.maxTouchPoints&&vt.maxTouchPoints>1||!isSecureContext)}function qt(e,t){return{...e,...t,tags:{...e.tags,...t.tags},onFormOpen:()=>{var n,r;(n=t.onFormOpen)==null||n.call(t),(r=e.onFormOpen)==null||r.call(e)},onFormClose:()=>{var n,r;(n=t.onFormClose)==null||n.call(t),(r=e.onFormClose)==null||r.call(e)},onSubmitSuccess:n=>{var r,s;(r=t.onSubmitSuccess)==null||r.call(t,n),(s=e.onSubmitSuccess)==null||s.call(e,n)},onSubmitError:n=>{var r,s;(r=t.onSubmitError)==null||r.call(t,n),(s=e.onSubmitError)==null||s.call(e,n)},onFormSubmitted:()=>{var n,r;(n=t.onFormSubmitted)==null||n.call(t),(r=e.onFormSubmitted)==null||r.call(e)},themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function $h(e){const t=$.createElement("style");return t.textContent=`
.widget__actor {
  position: fixed;
  z-index: var(--z-index);
  margin: var(--page-margin);
  inset: var(--actor-inset);

  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px;

  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  line-height: 1.14em;
  text-decoration: none;

  background: var(--actor-background, var(--background));
  border-radius: var(--actor-border-radius, 1.7em/50%);
  border: var(--actor-border, var(--border));
  box-shadow: var(--actor-box-shadow, var(--box-shadow));
  color: var(--actor-color, var(--foreground));
  fill: var(--actor-color, var(--foreground));
  cursor: pointer;
  opacity: 1;
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}
.widget__actor[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transform: translate(0, 16px) scale(0.98);
}

.widget__actor:hover {
  background: var(--actor-hover-background, var(--background));
  filter: var(--interactive-filter);
}

.widget__actor svg {
  width: 1.14em;
  height: 1.14em;
}

@media (max-width: 600px) {
  .widget__actor span {
    display: none;
  }
}
`,e&&t.setAttribute("nonce",e),t}function he(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}const nt=20,Uh="http://www.w3.org/2000/svg";function Hh(){const e=a=>_e.document.createElementNS(Uh,a),t=he(e("svg"),{width:`${nt}`,height:`${nt}`,viewBox:`0 0 ${nt} ${nt}`,fill:"var(--actor-color, var(--foreground))"}),n=he(e("g"),{clipPath:"url(#clip0_57_80)"}),r=he(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);const s=e("defs"),o=he(e("clipPath"),{id:"clip0_57_80"}),i=he(e("rect"),{width:`${nt}`,height:`${nt}`,fill:"white"});return o.appendChild(i),s.appendChild(o),t.appendChild(s).appendChild(o).appendChild(i),t}function Wh({triggerLabel:e,triggerAriaLabel:t,shadow:n,styleNonce:r}){const s=$.createElement("button");if(s.type="button",s.className="widget__actor",s.ariaHidden="false",s.ariaLabel=t||e||Si,s.appendChild(Hh()),e){const i=$.createElement("span");i.appendChild($.createTextNode(e)),s.appendChild(i)}const o=$h(r);return{el:s,appendToDom(){n.appendChild(o),n.appendChild(s)},removeFromDom(){n.removeChild(s),n.removeChild(o)},show(){s.ariaHidden="false"},hide(){s.ariaHidden="true"}}}const Ei="rgba(88, 74, 192, 1)",zh={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:Ei,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},Ls={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:Ei,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function Os(e){return`
  --foreground: ${e.foreground};
  --background: ${e.background};
  --accent-foreground: ${e.accentForeground};
  --accent-background: ${e.accentBackground};
  --success-color: ${e.successColor};
  --error-color: ${e.errorColor};
  --border: ${e.border};
  --box-shadow: ${e.boxShadow};
  --outline: ${e.outline};
  --interactive-filter: ${e.interactiveFilter};
  `}function jh({colorScheme:e,themeDark:t,themeLight:n,styleNonce:r}){const s=$.createElement("style");return s.textContent=`
:host {
  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;
  --font-size: 14px;
  --z-index: 100000;

  --page-margin: 16px;
  --inset: auto 0 0 auto;
  --actor-inset: var(--inset);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${e!=="system"?"color-scheme: only light;":""}

  ${Os(e==="dark"?{...Ls,...t}:{...zh,...n})}
}

${e==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${Os({...Ls,...t})}
  }
}`:""}
}
`,r&&s.setAttribute("nonce",r),s}const qh=({lazyLoadIntegration:e,getModalIntegration:t,getScreenshotIntegration:n})=>({id:s="sentry-feedback",autoInject:o=!0,showBranding:i=!0,isEmailRequired:a=!1,isNameRequired:c=!1,showEmail:u=!0,showName:d=!0,enableScreenshot:l=!0,useSentryUser:f={email:"email",name:"username"},_experiments:h={},tags:p,styleNonce:_,scriptNonce:b,colorScheme:y="system",themeLight:E={},themeDark:I={},addScreenshotButtonLabel:x=Ah,cancelButtonLabel:k=vh,confirmButtonLabel:g=Eh,emailLabel:m=Ch,emailPlaceholder:S=kh,formTitle:C=wh,isRequiredLabel:v=Dh,messageLabel:w=xh,messagePlaceholder:D=Ih,nameLabel:U=Mh,namePlaceholder:W=Th,removeScreenshotButtonLabel:ie=Lh,submitButtonLabel:A=Sh,successMessageText:re=Rh,triggerLabel:F=Si,triggerAriaLabel:ee="",onFormOpen:de,onFormClose:ge,onSubmitSuccess:Ye,onSubmitError:Ze,onFormSubmitted:Xe}={})=>{const Ie={id:s,autoInject:o,showBranding:i,isEmailRequired:a,isNameRequired:c,showEmail:u,showName:d,enableScreenshot:l,useSentryUser:f,tags:p,styleNonce:_,scriptNonce:b,colorScheme:y,themeDark:I,themeLight:E,triggerLabel:F,triggerAriaLabel:ee,cancelButtonLabel:k,submitButtonLabel:A,confirmButtonLabel:g,formTitle:C,emailLabel:m,emailPlaceholder:S,messageLabel:w,messagePlaceholder:D,nameLabel:U,namePlaceholder:W,successMessageText:re,isRequiredLabel:v,addScreenshotButtonLabel:x,removeScreenshotButtonLabel:ie,onFormClose:ge,onFormOpen:de,onSubmitError:Ze,onSubmitSuccess:Ye,onFormSubmitted:Xe,_experiments:h};let ye=null,xe=[];const Qe=z=>{if(!ye){const se=$.createElement("div");se.id=String(z.id),$.body.appendChild(se),ye=se.attachShadow({mode:"open"}),ye.appendChild(jh(z))}return ye},yt=async z=>{const se=z.enableScreenshot&&Bh();let ae,te;try{ae=(t?t():await e("feedbackModalIntegration",b))(),Gr(ae)}catch{throw Jt&&N.error("[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!")}try{const ce=se?n?n():await e("feedbackScreenshotIntegration",b):void 0;ce&&(te=ce(),Gr(te))}catch{Jt&&N.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.")}const K=ae.createDialog({options:{...z,onFormClose:()=>{var ce;K==null||K.close(),(ce=z.onFormClose)==null||ce.call(z)},onFormSubmitted:()=>{var ce;K==null||K.close(),(ce=z.onFormSubmitted)==null||ce.call(z)}},screenshotIntegration:te,sendFeedback:Ph,shadow:Qe(z)});return K},Ve=(z,se={})=>{const ae=qt(Ie,se),te=typeof z=="string"?$.querySelector(z):typeof z.addEventListener=="function"?z:null;if(!te)throw Jt&&N.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let K=null;const ce=async()=>{K||(K=await yt({...ae,onFormSubmitted:()=>{var Fe;K==null||K.removeFromDom(),(Fe=ae.onFormSubmitted)==null||Fe.call(ae)}})),K.appendToDom(),K.open()};te.addEventListener("click",ce);const Ne=()=>{xe=xe.filter(Fe=>Fe!==Ne),K==null||K.removeFromDom(),K=null,te.removeEventListener("click",ce)};return xe.push(Ne),Ne},et=(z={})=>{const se=qt(Ie,z),ae=Qe(se),te=Wh({triggerLabel:se.triggerLabel,triggerAriaLabel:se.triggerAriaLabel,shadow:ae,styleNonce:_});return Ve(te.el,{...se,onFormOpen(){te.hide()},onFormClose(){te.show()},onFormSubmitted(){te.show()}}),te};return{name:"Feedback",setupOnce(){!Hn()||!Ie.autoInject||($.readyState==="loading"?$.addEventListener("DOMContentLoaded",()=>et().appendToDom()):et().appendToDom())},attachTo:Ve,createWidget(z={}){const se=et(qt(Ie,z));return se.appendToDom(),se},async createForm(z={}){return yt(qt(Ie,z))},remove(){var z;ye&&((z=ye.parentElement)==null||z.remove(),ye=null),xe.forEach(se=>se()),xe=[]}}};var kn,Y,wi,Ge,Ns,ki,tr,At={},Tr=[],Yh=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Mr=Array.isArray;function We(e,t){for(var n in t)e[n]=t[n];return e}function Ci(e){var t=e.parentNode;t&&t.removeChild(e)}function O(e,t,n){var r,s,o,i={};for(o in t)o=="key"?r=t[o]:o=="ref"?s=t[o]:i[o]=t[o];if(arguments.length>2&&(i.children=arguments.length>3?kn.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)i[o]===void 0&&(i[o]=e.defaultProps[o]);return Zt(e,i,r,s,null)}function Zt(e,t,n,r,s){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:s??++wi,__i:-1,__u:0};return s==null&&Y.vnode!=null&&Y.vnode(o),o}function Bt(e){return e.children}function Qt(e,t){this.props=e,this.context=t}function _t(e,t){if(t==null)return e.__?_t(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?_t(e):null}function Xh(e,t,n){var r,s=e.__v,o=s.__e,i=e.__P;if(i)return(r=We({},s)).__v=s.__v+1,Y.vnode&&Y.vnode(r),Rr(i,r,s,e.__n,i.ownerSVGElement!==void 0,32&s.__u?[o]:null,t,o??_t(s),!!(32&s.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=o&&Ii(r),r}function Ii(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Ii(e)}}function Fs(e){(!e.__d&&(e.__d=!0)&&Ge.push(e)&&!mn.__r++||Ns!==Y.debounceRendering)&&((Ns=Y.debounceRendering)||ki)(mn)}function mn(){var e,t,n,r=[],s=[];for(Ge.sort(tr);e=Ge.shift();)e.__d&&(n=Ge.length,t=Xh(e,r,s)||t,n===0||Ge.length>n?(nr(r,t,s),s.length=r.length=0,t=void 0,Ge.sort(tr)):t&&Y.__c&&Y.__c(t,Tr));t&&nr(r,t,s),mn.__r=0}function xi(e,t,n,r,s,o,i,a,c,u,d){var l,f,h,p,_,b=r&&r.__k||Tr,y=t.length;for(n.__d=c,Vh(n,t,b),c=n.__d,l=0;l<y;l++)(h=n.__k[l])!=null&&typeof h!="boolean"&&typeof h!="function"&&(f=h.__i===-1?At:b[h.__i]||At,h.__i=l,Rr(e,h,f,s,o,i,a,c,u,d),p=h.__e,h.ref&&f.ref!=h.ref&&(f.ref&&Dr(f.ref,null,h),d.push(h.ref,h.__c||p,h)),_==null&&p!=null&&(_=p),65536&h.__u||f.__k===h.__k?c=Ti(h,c,e):typeof h.type=="function"&&h.__d!==void 0?c=h.__d:p&&(c=p.nextSibling),h.__d=void 0,h.__u&=-196609);n.__d=c,n.__e=_}function Vh(e,t,n){var r,s,o,i,a,c=t.length,u=n.length,d=u,l=0;for(e.__k=[],r=0;r<c;r++)(s=e.__k[r]=(s=t[r])==null||typeof s=="boolean"||typeof s=="function"?null:typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?Zt(null,s,null,null,s):Mr(s)?Zt(Bt,{children:s},null,null,null):s.constructor===void 0&&s.__b>0?Zt(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s)!=null?(s.__=e,s.__b=e.__b+1,a=Gh(s,n,i=r+l,d),s.__i=a,o=null,a!==-1&&(d--,(o=n[a])&&(o.__u|=131072)),o==null||o.__v===null?(a==-1&&l--,typeof s.type!="function"&&(s.__u|=65536)):a!==i&&(a===i+1?l++:a>i?d>c-i?l+=a-i:l--:l=a<i&&a==i-1?a-i:0,a!==r+l&&(s.__u|=65536))):(o=n[r])&&o.key==null&&o.__e&&(o.__e==e.__d&&(e.__d=_t(o)),rr(o,o,!1),n[r]=null,d--);if(d)for(r=0;r<u;r++)(o=n[r])!=null&&!(131072&o.__u)&&(o.__e==e.__d&&(e.__d=_t(o)),rr(o,o))}function Ti(e,t,n){var r,s;if(typeof e.type=="function"){for(r=e.__k,s=0;r&&s<r.length;s++)r[s]&&(r[s].__=e,t=Ti(r[s],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function Gh(e,t,n,r){var s=e.key,o=e.type,i=n-1,a=n+1,c=t[n];if(c===null||c&&s==c.key&&o===c.type)return n;if(r>(c!=null&&!(131072&c.__u)?1:0))for(;i>=0||a<t.length;){if(i>=0){if((c=t[i])&&!(131072&c.__u)&&s==c.key&&o===c.type)return i;i--}if(a<t.length){if((c=t[a])&&!(131072&c.__u)&&s==c.key&&o===c.type)return a;a++}}return-1}function Ps(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Yh.test(t)?n:n+"px"}function Yt(e,t,n,r,s){var o;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||Ps(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||Ps(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,o?$s:Bs,o)):e.removeEventListener(t,o?$s:Bs,o);else{if(s)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function Bs(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(Y.event?Y.event(e):e)}}function $s(e){if(this.l)return this.l[e.type+!0](Y.event?Y.event(e):e)}function Rr(e,t,n,r,s,o,i,a,c,u){var d,l,f,h,p,_,b,y,E,I,x,k,g,m,S,C=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),o=[a=t.__e=n.__e]),(d=Y.__b)&&d(t);e:if(typeof C=="function")try{if(y=t.props,E=(d=C.contextType)&&r[d.__c],I=d?E?E.props.value:d.__:r,n.__c?b=(l=t.__c=n.__c).__=l.__E:("prototype"in C&&C.prototype.render?t.__c=l=new C(y,I):(t.__c=l=new Qt(y,I),l.constructor=C,l.render=Jh),E&&E.sub(l),l.props=y,l.state||(l.state={}),l.context=I,l.__n=r,f=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),C.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=We({},l.__s)),We(l.__s,C.getDerivedStateFromProps(y,l.__s))),h=l.props,p=l.state,l.__v=t,f)C.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(C.getDerivedStateFromProps==null&&y!==h&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(y,I),!l.__e&&(l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(y,l.__s,I)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(l.props=y,l.state=l.__s,l.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(v){v&&(v.__=t)}),x=0;x<l._sb.length;x++)l.__h.push(l._sb[x]);l._sb=[],l.__h.length&&i.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(y,l.__s,I),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(h,p,_)})}if(l.context=I,l.props=y,l.__P=e,l.__e=!1,k=Y.__r,g=0,"prototype"in C&&C.prototype.render){for(l.state=l.__s,l.__d=!1,k&&k(t),d=l.render(l.props,l.state,l.context),m=0;m<l._sb.length;m++)l.__h.push(l._sb[m]);l._sb=[]}else do l.__d=!1,k&&k(t),d=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++g<25);l.state=l.__s,l.getChildContext!=null&&(r=We(We({},r),l.getChildContext())),f||l.getSnapshotBeforeUpdate==null||(_=l.getSnapshotBeforeUpdate(h,p)),xi(e,Mr(S=d!=null&&d.type===Bt&&d.key==null?d.props.children:d)?S:[S],t,n,r,s,o,i,a,c,u),l.base=t.__e,t.__u&=-161,l.__h.length&&i.push(l),b&&(l.__E=l.__=null)}catch(v){t.__v=null,c||o!=null?(t.__e=a,t.__u|=c?160:32,o[o.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),Y.__e(v,t,n)}else o==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Kh(n.__e,t,n,r,s,o,i,c,u);(d=Y.diffed)&&d(t)}function nr(e,t,n){for(var r=0;r<n.length;r++)Dr(n[r],n[++r],n[++r]);Y.__c&&Y.__c(t,e),e.some(function(s){try{e=s.__h,s.__h=[],e.some(function(o){o.call(s)})}catch(o){Y.__e(o,s.__v)}})}function Kh(e,t,n,r,s,o,i,a,c){var u,d,l,f,h,p,_,b=n.props,y=t.props,E=t.type;if(E==="svg"&&(s=!0),o!=null){for(u=0;u<o.length;u++)if((h=o[u])&&"setAttribute"in h==!!E&&(E?h.localName===E:h.nodeType===3)){e=h,o[u]=null;break}}if(e==null){if(E===null)return document.createTextNode(y);e=s?document.createElementNS("http://www.w3.org/2000/svg",E):document.createElement(E,y.is&&y),o=null,a=!1}if(E===null)b===y||a&&e.data===y||(e.data=y);else{if(o=o&&kn.call(e.childNodes),b=n.props||At,!a&&o!=null)for(b={},u=0;u<e.attributes.length;u++)b[(h=e.attributes[u]).name]=h.value;for(u in b)h=b[u],u=="children"||(u=="dangerouslySetInnerHTML"?l=h:u==="key"||u in y||Yt(e,u,null,h,s));for(u in y)h=y[u],u=="children"?f=h:u=="dangerouslySetInnerHTML"?d=h:u=="value"?p=h:u=="checked"?_=h:u==="key"||a&&typeof h!="function"||b[u]===h||Yt(e,u,h,b[u],s);if(d)a||l&&(d.__html===l.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(l&&(e.innerHTML=""),xi(e,Mr(f)?f:[f],t,n,r,s&&E!=="foreignObject",o,i,o?o[0]:n.__k&&_t(n,0),a,c),o!=null)for(u=o.length;u--;)o[u]!=null&&Ci(o[u]);a||(u="value",p!==void 0&&(p!==e[u]||E==="progress"&&!p||E==="option"&&p!==b[u])&&Yt(e,u,p,b[u],!1),u="checked",_!==void 0&&_!==e[u]&&Yt(e,u,_,b[u],!1))}return e}function Dr(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){Y.__e(r,n)}}function rr(e,t,n){var r,s;if(Y.unmount&&Y.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Dr(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){Y.__e(o,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(s=0;s<r.length;s++)r[s]&&rr(r[s],t,n||typeof e.type!="function");n||e.__e==null||Ci(e.__e),e.__=e.__e=e.__d=void 0}function Jh(e,t,n){return this.constructor(e,n)}function Zh(e,t,n){var r,s,o,i;Y.__&&Y.__(e,t),s=(r=!1)?null:t.__k,o=[],i=[],Rr(t,e=t.__k=O(Bt,null,[e]),s||At,At,t.ownerSVGElement!==void 0,s?null:t.firstChild?kn.call(t.childNodes):null,o,s?s.__e:t.firstChild,r,i),e.__d=void 0,nr(o,e,i)}kn=Tr.slice,Y={__e:function(e,t,n,r){for(var s,o,i;t=t.__;)if((s=t.__c)&&!s.__)try{if((o=s.constructor)&&o.getDerivedStateFromError!=null&&(s.setState(o.getDerivedStateFromError(e)),i=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(e,r||{}),i=s.__d),i)return s.__E=s}catch(a){e=a}throw e}},wi=0,Qt.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=We({},this.state),typeof e=="function"&&(e=e(We({},n),this.props)),e&&We(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Fs(this))},Qt.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Fs(this))},Qt.prototype.render=Bt,Ge=[],ki=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,tr=function(e,t){return e.__v.__b-t.__v.__b},mn.__r=0;var Le,q,An,Us,gt=0,Mi=[],en=[],J=Y,Hs=J.__b,Ws=J.__r,zs=J.diffed,js=J.__c,qs=J.unmount,Ys=J.__;function Je(e,t){J.__h&&J.__h(q,e,gt||t),gt=0;var n=q.__H||(q.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:en}),n.__[e]}function ct(e){return gt=1,Ri(Ai,e)}function Ri(e,t,n){var r=Je(Le++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Ai(void 0,t),function(a){var c=r.__N?r.__N[0]:r.__[0],u=r.t(c,a);c!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=q,!q.u)){var s=function(a,c,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(f){return!!f.__c});if(d.every(function(f){return!f.__N}))return!o||o.call(this,a,c,u);var l=!1;return d.forEach(function(f){if(f.__N){var h=f.__[0];f.__=f.__N,f.__N=void 0,h!==f.__[0]&&(l=!0)}}),!(!l&&r.__c.props===a)&&(!o||o.call(this,a,c,u))};q.u=!0;var o=q.shouldComponentUpdate,i=q.componentWillUpdate;q.componentWillUpdate=function(a,c,u){if(this.__e){var d=o;o=void 0,s(a,c,u),o=d}i&&i.call(this,a,c,u)},q.shouldComponentUpdate=s}return r.__N||r.__}function Qh(e,t){var n=Je(Le++,3);!J.__s&&Ar(n.__H,t)&&(n.__=e,n.i=t,q.__H.__h.push(n))}function Di(e,t){var n=Je(Le++,4);!J.__s&&Ar(n.__H,t)&&(n.__=e,n.i=t,q.__h.push(n))}function ep(e){return gt=5,$t(function(){return{current:e}},[])}function tp(e,t,n){gt=6,Di(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function $t(e,t){var n=Je(Le++,7);return Ar(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function ut(e,t){return gt=8,$t(function(){return e},t)}function np(e){var t=q.context[e.__c],n=Je(Le++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(q)),t.props.value):e.__}function rp(e,t){J.useDebugValue&&J.useDebugValue(t?t(e):e)}function sp(e){var t=Je(Le++,10),n=ct();return t.__=e,q.componentDidCatch||(q.componentDidCatch=function(r,s){t.__&&t.__(r,s),n[1](r)}),[n[0],function(){n[1](void 0)}]}function op(){var e=Je(Le++,11);if(!e.__){for(var t=q.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function ip(){for(var e;e=Mi.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(tn),e.__H.__h.forEach(sr),e.__H.__h=[]}catch(t){e.__H.__h=[],J.__e(t,e.__v)}}J.__b=function(e){q=null,Hs&&Hs(e)},J.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Ys&&Ys(e,t)},J.__r=function(e){Ws&&Ws(e),Le=0;var t=(q=e.__c).__H;t&&(An===q?(t.__h=[],q.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=en,n.__N=n.i=void 0})):(t.__h.forEach(tn),t.__h.forEach(sr),t.__h=[],Le=0)),An=q},J.diffed=function(e){zs&&zs(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Mi.push(t)!==1&&Us===J.requestAnimationFrame||((Us=J.requestAnimationFrame)||ap)(ip)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==en&&(n.__=n.__V),n.i=void 0,n.__V=en})),An=q=null},J.__c=function(e,t){t.some(function(n){try{n.__h.forEach(tn),n.__h=n.__h.filter(function(r){return!r.__||sr(r)})}catch(r){t.some(function(s){s.__h&&(s.__h=[])}),t=[],J.__e(r,n.__v)}}),js&&js(e,t)},J.unmount=function(e){qs&&qs(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{tn(r)}catch(s){t=s}}),n.__H=void 0,t&&J.__e(t,n.__v))};var Xs=typeof requestAnimationFrame=="function";function ap(e){var t,n=function(){clearTimeout(r),Xs&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Xs&&(t=requestAnimationFrame(n))}function tn(e){var t=q,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),q=t}function sr(e){var t=q;e.__c=e.__(),q=t}function Ar(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Ai(e,t){return typeof t=="function"?t(e):t}const cp=Object.defineProperty({__proto__:null,useCallback:ut,useContext:np,useDebugValue:rp,useEffect:Qh,useErrorBoundary:sp,useId:op,useImperativeHandle:tp,useLayoutEffect:Di,useMemo:$t,useReducer:Ri,useRef:ep,useState:ct},Symbol.toStringTag,{value:"Module"}),up="http://www.w3.org/2000/svg";function lp(){const e=r=>$.createElementNS(up,r),t=he(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=he(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return t.appendChild(n),t}function dp({options:e}){const t=$t(()=>({__html:lp().outerHTML}),[]);return O("h2",{class:"dialog__header"},O("span",{class:"dialog__title"},e.formTitle),e.showBranding?O("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:t}):null)}function fp(e,t){const n=[];return t.isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n}function Ln(e,t){const n=e.get(t);return typeof n=="string"?n.trim():""}function hp({options:e,defaultEmail:t,defaultName:n,onFormClose:r,onSubmit:s,onSubmitSuccess:o,onSubmitError:i,showEmail:a,showName:c,screenshotInput:u}){const{tags:d,addScreenshotButtonLabel:l,removeScreenshotButtonLabel:f,cancelButtonLabel:h,emailLabel:p,emailPlaceholder:_,isEmailRequired:b,isNameRequired:y,messageLabel:E,messagePlaceholder:I,nameLabel:x,namePlaceholder:k,submitButtonLabel:g,isRequiredLabel:m}=e,[S,C]=ct(null),[v,w]=ct(!1),D=u==null?void 0:u.input,[U,W]=ct(null),ie=ut(F=>{W(F),w(!1)},[]),A=ut(F=>{const ee=fp(F,{emailLabel:p,isEmailRequired:b,isNameRequired:y,messageLabel:E,nameLabel:x});return ee.length>0?C(`Please enter in the following required fields: ${ee.join(", ")}`):C(null),ee.length===0},[p,b,y,E,x]),re=ut(async F=>{try{if(F.preventDefault(),!(F.target instanceof HTMLFormElement))return;const ee=new FormData(F.target),de=await(u&&v?u.value():void 0),ge={name:Ln(ee,"name"),email:Ln(ee,"email"),message:Ln(ee,"message"),attachments:de?[de]:void 0};if(!A(ge))return;try{await s({name:ge.name,email:ge.email,message:ge.message,source:Oh,tags:d},{attachments:ge.attachments}),o(ge)}catch(Ye){Jt&&N.error(Ye),C(Ye),i(Ye)}}catch{}},[u&&v,o,i]);return O("form",{class:"form",onSubmit:re},D&&v?O(D,{onError:ie}):null,O("div",{class:"form__right","data-sentry-feedback":!0},O("div",{class:"form__top"},S?O("div",{class:"form__error-container"},S):null,c?O("label",{for:"name",class:"form__label"},O(On,{label:x,isRequiredLabel:m,isRequired:y}),O("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:k,required:y,type:"text"})):O("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden"}),a?O("label",{for:"email",class:"form__label"},O(On,{label:p,isRequiredLabel:m,isRequired:b}),O("input",{class:"form__input",defaultValue:t,id:"email",name:"email",placeholder:_,required:b,type:"email"})):O("input",{"aria-hidden":!0,value:t,name:"email",type:"hidden"}),O("label",{for:"message",class:"form__label"},O(On,{label:E,isRequiredLabel:m,isRequired:!0}),O("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:I,required:!0,rows:5})),D?O("label",{for:"screenshot",class:"form__label"},O("button",{class:"btn btn--default",type:"button",onClick:()=>{W(null),w(F=>!F)}},v?f:l),U?O("div",{class:"form__error-container"},U.message):null):null),O("div",{class:"btn-group"},O("button",{class:"btn btn--primary",type:"submit"},g),O("button",{class:"btn btn--default",type:"button",onClick:r},h))))}function On({label:e,isRequired:t,isRequiredLabel:n}){return O("span",{class:"form__label__text"},e,t&&O("span",{class:"form__label__text--required"},n))}const Xt=16,Vs=17,pp="http://www.w3.org/2000/svg";function mp(){const e=c=>_e.document.createElementNS(pp,c),t=he(e("svg"),{width:`${Xt}`,height:`${Vs}`,viewBox:`0 0 ${Xt} ${Vs}`,fill:"inherit"}),n=he(e("g"),{clipPath:"url(#clip0_57_156)"}),r=he(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),s=he(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(s,r);const o=e("defs"),i=he(e("clipPath"),{id:"clip0_57_156"}),a=he(e("rect"),{width:`${Xt}`,height:`${Xt}`,fill:"white",transform:"translate(0 0.5)"});return i.appendChild(a),o.appendChild(i),t.appendChild(o).appendChild(i).appendChild(a),t}function _p({open:e,onFormSubmitted:t,...n}){const r=n.options,s=$t(()=>({__html:mp().outerHTML}),[]),[o,i]=ct(null),a=ut(()=>{o&&(clearTimeout(o),i(null)),t()},[o]),c=ut(u=>{n.onSubmitSuccess(u),i(setTimeout(()=>{t(),i(null)},Fh))},[t]);return O(Bt,null,o?O("div",{class:"success__position",onClick:a},O("div",{class:"success__content"},r.successMessageText,O("span",{class:"success__icon",dangerouslySetInnerHTML:s}))):O("dialog",{class:"dialog",onClick:r.onFormClose,open:e},O("div",{class:"dialog__position"},O("div",{class:"dialog__content",onClick:u=>{u.stopPropagation()}},O(dp,{options:r}),O(hp,{...n,onSubmitSuccess:c})))))}const gp=`
.dialog {
  position: fixed;
  z-index: var(--z-index);
  margin: 0;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  height: 100vh;
  width: 100vw;

  color: var(--dialog-color, var(--foreground));
  fill: var(--dialog-color, var(--foreground));
  line-height: 1.75em;

  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  inset: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog__position {
  position: fixed;
  z-index: var(--z-index);
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  display: flex;
  max-height: calc(100vh - (2 * var(--page-margin)));
}
@media (max-width: 600px) {
  .dialog__position {
    inset: var(--page-margin);
    padding: 0;
  }
}

.dialog__position:has(.editor) {
  inset: var(--page-margin);
  padding: 0;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: var(--dialog-padding, 24px);
  max-width: 100%;
  width: 100%;
  max-height: 100%;
  overflow: auto;

  background: var(--dialog-background, var(--background));
  border-radius: var(--dialog-border-radius, 20px);
  border: var(--dialog-border, var(--border));
  box-shadow: var(--dialog-box-shadow, var(--box-shadow));
  transform: translate(0, 0) scale(1);
  transition: transform 0.2s ease-in-out;
}

`,yp=`
.dialog__header {
  display: flex;
  gap: 4px;
  justify-content: space-between;
  font-weight: var(--dialog-header-weight, 600);
  margin: 0;
}
.dialog__title {
  align-self: center;
  width: var(--form-width, 272px);
}

@media (max-width: 600px) {
  .dialog__title {
    width: auto;
  }
}

.dialog__position:has(.editor) .dialog__title {
  width: auto;
}


.brand-link {
  display: inline-flex;
}
.brand-link:focus-visible {
  outline: var(--outline);
}
`,bp=`
.form {
  display: flex;
  overflow: auto;
  flex-direction: row;
  gap: 16px;
  flex: 1 0;
}

.form__right {
  flex: 0 0 auto;
  display: flex;
  overflow: auto;
  flex-direction: column;
  justify-content: space-between;
  gap: 20px;
  width: var(--form-width, 100%);
}

.dialog__position:has(.editor) .form__right {
  width: var(--form-width, 272px);
}

.form__top {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form__error-container {
  color: var(--error-color);
  fill: var(--error-color);
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: flex;
  gap: 4px;
  align-items: center;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background: transparent;
  box-sizing: border-box;
  border: var(--input-border, var(--border));
  border-radius: var(--input-border-radius, 6px);
  color: var(--input-color, inherit);
  fill: var(--input-color, inherit);
  font-size: var(--input-font-size, inherit);
  font-weight: var(--input-font-weight, 500);
  padding: 6px 12px;
}

.form__input::placeholder {
  opacity: 0.65;
  color: var(--input-placeholder-color, inherit);
  filter: var(--interactive-filter);
}

.form__input:focus-visible {
  outline: var(--input-focus-outline, var(--outline));
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.error {
  color: var(--error-color);
  fill: var(--error-color);
}
`,vp=`
.btn-group {
  display: grid;
  gap: 8px;
}

.btn {
  line-height: inherit;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--button-font-size, inherit);
  font-weight: var(--button-font-weight, 600);
  padding: var(--button-padding, 6px 16px);
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  color: var(--button-primary-color, var(--accent-foreground));
  fill: var(--button-primary-color, var(--accent-foreground));
  background: var(--button-primary-background, var(--accent-background));
  border: var(--button-primary-border, var(--border));
  border-radius: var(--button-primary-border-radius, 6px);
  font-weight: var(--button-primary-font-weight, 500);
}
.btn--primary:hover {
  color: var(--button-primary-hover-color, var(--accent-foreground));
  fill: var(--button-primary-hover-color, var(--accent-foreground));
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
}
.btn--primary:focus-visible {
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
  outline: var(--button-primary-focus-outline, var(--outline));
}

.btn--default {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-background, var(--background));
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  font-weight: var(--button-font-weight, 500);
}
.btn--default:hover {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
}
.btn--default:focus-visible {
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
  outline: var(--button-focus-outline, var(--outline));
}
`,Sp=`
.success__position {
  position: fixed;
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  z-index: var(--z-index);
}
.success__content {
  background: var(--success-background, var(--background));
  border: var(--success-border, var(--border));
  border-radius: var(--success-border-radius, 1.7em/50%);
  box-shadow: var(--success-box-shadow, var(--box-shadow));
  font-weight: var(--success-font-weight, 600);
  color: var(--success-color);
  fill: var(--success-color);
  padding: 12px 24px;
  line-height: 1.75em;

  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success__icon {
  display: flex;
}
`;function Ep(e){const t=$.createElement("style");return t.textContent=`
:host {
  --dialog-inset: var(--inset);
}

${gp}
${yp}
${bp}
${vp}
${Sp}
`,e&&t.setAttribute("nonce",e),t}function wp(){const e=qe().getUser(),t=_n().getUser(),n=ka().getUser();return e&&Object.keys(e).length?e:t&&Object.keys(t).length?t:n}const kp=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:e,screenshotIntegration:t,sendFeedback:n,shadow:r})=>{const s=r,o=e.useSentryUser,i=wp(),a=$.createElement("div"),c=Ep(e.styleNonce);let u="";const d={get el(){return a},appendToDom(){!s.contains(c)&&!s.contains(a)&&(s.appendChild(c),s.appendChild(a))},removeFromDom(){s.removeChild(a),s.removeChild(c),$.body.style.overflow=u},open(){var h,p;f(!0),(h=e.onFormOpen)==null||h.call(e),(p=Q())==null||p.emit("openFeedbackWidget"),u=$.body.style.overflow,$.body.style.overflow="hidden"},close(){f(!1),$.body.style.overflow=u}},l=t==null?void 0:t.createInput({h:O,hooks:cp,dialog:d,options:e}),f=h=>{Zh(O(_p,{options:e,screenshotInput:l,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:o&&i&&i[o.name]||"",defaultEmail:o&&i&&i[o.email]||"",onFormClose:()=>{var p;f(!1),(p=e.onFormClose)==null||p.call(e)},onSubmit:n,onSubmitSuccess:p=>{var _;f(!1),(_=e.onSubmitSuccess)==null||_.call(e,p)},onSubmitError:p=>{var _;(_=e.onSubmitError)==null||_.call(e,p)},onFormSubmitted:()=>{var p;(p=e.onFormSubmitted)==null||p.call(e)},open:h}),a)};return d}});function Cp({h:e}){return function({action:n,imageBuffer:r,annotatingRef:s}){const o=()=>{if(n!=="annotate")return;const a=u=>{const d=s.current;if(d){const l=d.getBoundingClientRect(),f=u.clientX-l.x,h=u.clientY-l.y,p=d.getContext("2d");p&&(p.lineTo(f,h),p.stroke(),p.beginPath(),p.moveTo(f,h))}},c=()=>{var d;const u=(d=s.current)==null?void 0:d.getContext("2d");u&&u.beginPath(),i(),$.removeEventListener("mousemove",a),$.removeEventListener("mouseup",c)};$.addEventListener("mousemove",a),$.addEventListener("mouseup",c)},i=()=>{const a=r.getContext("2d"),c=s.current;if(a&&c){a.drawImage(c,0,0,c.width,c.height,0,0,r.width,r.height);const u=c.getContext("2d");u&&u.clearRect(0,0,c.width,c.height)}};return e("canvas",{class:`editor__annotation ${n==="annotate"?"editor__annotation--active":""}`,onMouseDown:o,ref:s})}}function Ip({h:e}){return function({top:n,left:r,corner:s,onGrabButton:o}){return e("button",{class:`editor__crop-corner editor__crop-corner--${s} `,style:{top:n,left:r},onMouseDown:i=>{i.preventDefault(),o(i,s)},onClick:i=>{i.preventDefault()}})}}const St=30,Me=3,Pe=St+Me,ke=_e.devicePixelRatio,Gs=e=>({x:Math.min(e.startX,e.endX),y:Math.min(e.startY,e.endY),width:Math.abs(e.startX-e.endX),height:Math.abs(e.startY-e.endY)}),Ks=e=>{const t=e.clientHeight,n=e.clientWidth,r=e.width/e.height;let s=t*r,o=t;s>n&&(s=n,o=n/r);const i=(n-s)/2,a=(t-o)/2;return{x:i,y:a,width:s,height:o}};function xp({h:e,hooks:t,options:n}){const r=Ip({h:e});return function({action:o,imageBuffer:i,croppingRef:a,cropContainerRef:c,croppingRect:u,setCroppingRect:d,resize:l}){const f=t.useRef({initialX:0,initialY:0}),[h,p]=t.useState(!1),[_,b]=t.useState(!1);t.useEffect(()=>{const k=a.current;if(!k)return;const g=k.getContext("2d");if(!g)return;const m=Ks(i),S=Gs(u);g.clearRect(0,0,m.width,m.height),o==="crop"&&(g.fillStyle="rgba(0, 0, 0, 0.5)",g.fillRect(0,0,m.width,m.height),g.clearRect(S.x,S.y,S.width,S.height),g.strokeStyle="#ffffff",g.lineWidth=3,g.strokeRect(S.x+1,S.y+1,S.width-2,S.height-2),g.strokeStyle="#000000",g.lineWidth=1,g.strokeRect(S.x+3,S.y+3,S.width-6,S.height-6))},[u,o]);const y=t.useCallback(k=>g=>{if(!a.current)return;const m=a.current,S=m.getBoundingClientRect(),C=g.clientX-S.x,v=g.clientY-S.y;switch(k){case"top-left":d(w=>({...w,startX:Math.min(Math.max(0,C),w.endX-Pe),startY:Math.min(Math.max(0,v),w.endY-Pe)}));break;case"top-right":d(w=>({...w,endX:Math.max(Math.min(C,m.width/ke),w.startX+Pe),startY:Math.min(Math.max(0,v),w.endY-Pe)}));break;case"bottom-left":d(w=>({...w,startX:Math.min(Math.max(0,C),w.endX-Pe),endY:Math.max(Math.min(v,m.height/ke),w.startY+Pe)}));break;case"bottom-right":d(w=>({...w,endX:Math.max(Math.min(C,m.width/ke),w.startX+Pe),endY:Math.max(Math.min(v,m.height/ke),w.startY+Pe)}));break}},[]),E=k=>{if(h)return;f.current={initialX:k.clientX,initialY:k.clientY};const g=S=>{const C=a.current;if(!C)return;const v=S.clientX-f.current.initialX,w=S.clientY-f.current.initialY;d(D=>{const U=Math.max(0,Math.min(D.startX+v,C.width/ke-(D.endX-D.startX))),W=Math.max(0,Math.min(D.startY+w,C.height/ke-(D.endY-D.startY))),ie=U+(D.endX-D.startX),A=W+(D.endY-D.startY);return f.current.initialX=S.clientX,f.current.initialY=S.clientY,{startX:U,startY:W,endX:ie,endY:A}})},m=()=>{$.removeEventListener("mousemove",g),$.removeEventListener("mouseup",m)};$.addEventListener("mousemove",g),$.addEventListener("mouseup",m)},I=(k,g)=>{p(!0);const m=y(g),S=()=>{$.removeEventListener("mousemove",m),$.removeEventListener("mouseup",S),b(!0),p(!1)};$.addEventListener("mouseup",S),$.addEventListener("mousemove",m)};function x(){const k=$.createElement("canvas"),g=Ks(i),m=Gs(u);k.width=m.width*ke,k.height=m.height*ke;const S=k.getContext("2d");S&&i&&S.drawImage(i,m.x/g.width*i.width,m.y/g.height*i.height,m.width/g.width*i.width,m.height/g.height*i.height,0,0,k.width,k.height);const C=i.getContext("2d");C&&(C.clearRect(0,0,i.width,i.height),i.width=k.width,i.height=k.height,i.style.width=`${m.width}px`,i.style.height=`${m.height}px`,C.drawImage(k,0,0),l())}return e("div",{class:`editor__crop-container ${o==="crop"?"":"editor__crop-container--inactive"}
              ${_?"editor__crop-container--move":""}`,ref:c},e("canvas",{onMouseDown:E,ref:a}),o==="crop"&&e("div",null,e(r,{left:u.startX-Me,top:u.startY-Me,onGrabButton:I,corner:"top-left"}),e(r,{left:u.endX-St+Me,top:u.startY-Me,onGrabButton:I,corner:"top-right"}),e(r,{left:u.startX-Me,top:u.endY-St+Me,onGrabButton:I,corner:"bottom-left"}),e(r,{left:u.endX-St+Me,top:u.endY-St+Me,onGrabButton:I,corner:"bottom-right"})),o==="crop"&&e("div",{style:{left:Math.max(0,u.endX-191),top:Math.max(0,u.endY+8)},class:`editor__crop-btn-group ${_?"editor__crop-btn-group--active":""}`},e("button",{onClick:k=>{k.preventDefault(),a.current&&d({startX:0,startY:0,endX:a.current.width/ke,endY:a.current.height/ke}),b(!1)},class:"btn btn--default"},n.cancelButtonLabel),e("button",{onClick:k=>{k.preventDefault(),x(),b(!1)},class:"btn btn--primary"},n.confirmButtonLabel)))}}function Tp(e){const t=$.createElement("style"),n="#1A141F",r="#302735";return t.textContent=`
.editor {
  display: flex;
  flex-grow: 1;
  flex-direction: column;
}
.editor__image-container {
  padding: 10px;
  padding-top: 65px;
  padding-bottom: 65px;
  position: relative;
  height: 100%;
  border-radius: var(--menu-border-radius, 6px);

  background-color: ${n};
  background-image: repeating-linear-gradient(
      -145deg,
      transparent,
      transparent 8px,
      ${n} 8px,
      ${n} 11px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 15px,
      ${r} 15px,
      ${r} 16px
    );
}

.editor__annotation {
  z-index: 1;
}
.editor__annotation--active {
  z-index: 2;
}

.editor__canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.editor__canvas-container canvas {
  object-fit: contain;
  position: absolute;
}

.editor__crop-container {
  custor: auto;
  position: absolute;
  z-index: 2;
}
.editor__crop-container--inactive {
  z-index: 1;
}
.editor__crop-container--move {
  cursor: move;
}

.editor__crop-btn-group {
  padding: 8px;
  gap: 8px;
  border-radius: var(--menu-border-radius, 6px);
  background: var(--button-background, var(--background));
  width: 175px;
  position: absolute;
  display: none;
}
.editor__crop-btn-group--active {
  display: flex;
}

.editor__crop-corner {
  width: 30px;
  height: 30px;
  position: absolute;
  background: none;
  border: 3px solid #ffffff;
}

.editor__crop-corner--top-left {
  cursor: nwse-resize;
  border-right: none;
  border-bottom: none;
}
.editor__crop-corner--top-right {
  cursor: nesw-resize;
  border-left: none;
  border-bottom: none;
}
.editor__crop-corner--bottom-left {
  cursor: nesw-resize;
  border-right: none;
  border-top: none;
}
.editor__crop-corner--bottom-right {
  cursor: nwse-resize;
  border-left: none;
  border-top: none;
}
.editor__tool-container {
  padding-top: 8px;
  display: flex;
  justify-content: space-between;
}
.editor__tool-bar {
  display: flex;
  gap: 8px;
}
.editor__tool {
  display: flex;
  padding: 8px 12px;
  justify-content: center;
  align-items: center;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  background: var(--button-background, var(--background));
  color: var(--button-foreground, var(--foreground));
}

.editor__tool--active {
  background: var(--button-primary-background, var(--accent-background));
  color: var(--button-primary-foreground, var(--accent-foreground));
}
`,e&&t.setAttribute("nonce",e),t}function Mp({h:e}){return function(){return e("svg",{width:"20",height:"20",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e("path",{d:"M15.25 12.5H12.5M12.5 12.5H4.50001C3.94773 12.5 3.50001 12.0523 3.50001 11.5V3.50002M12.5 12.5L12.5 4.50002C12.5 3.94773 12.0523 3.50002 11.5 3.50002H3.50001M12.5 12.5L12.5 15.25M3.50001 3.50002V0.750031M3.50001 3.50002H0.75",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))}}function Rp({h:e}){return function(){return e("svg",{width:"20",height:"20",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e("path",{d:"M8.5 12L12 8.5L14 11L11 14L8.5 12Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M12 8.5L11 3.5L2 2L3.5 11L8.5 12L12 8.5Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M2 2L7.5 7.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))}}function Dp({h:e}){return function({action:n,setAction:r}){const s=Rp({h:e}),o=Mp({h:e});return e("div",{class:"editor__tool-container"},e("div",null),e("div",{class:"editor__tool-bar"},e("button",{type:"button",class:`editor__tool ${n==="crop"?"editor__tool--active":""}`,onClick:()=>{r(n==="crop"?"":"crop")}},e(o,null)),e("button",{type:"button",class:`editor__tool ${n==="annotate"?"editor__tool--active":""}`,onClick:()=>{r(n==="annotate"?"":"annotate")}},e(s,null))),e("div",null))}}function Ap({hooks:e}){return function({onBeforeScreenshot:n,onScreenshot:r,onAfterScreenshot:s,onError:o}){e.useEffect(()=>{(async()=>{n();const a=await vt.mediaDevices.getDisplayMedia({video:{width:_e.innerWidth*_e.devicePixelRatio,height:_e.innerHeight*_e.devicePixelRatio},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),c=$.createElement("video");await new Promise((u,d)=>{c.srcObject=a,c.onloadedmetadata=()=>{r(c),a.getTracks().forEach(l=>l.stop()),u()},c.play().catch(d)}),s()})().catch(o)},[])}}const Vt=_e.devicePixelRatio,Lp=e=>{const t=e.clientHeight,n=e.clientWidth,r=e.width/e.height;let s=t*r,o=t;s>n&&(s=n,o=n/r);const i=(n-s)/2,a=(t-o)/2;return{x:i,y:a,width:s,height:o}};function Op({h:e,hooks:t,imageBuffer:n,dialog:r,options:s}){const o=Ap({hooks:t}),i=Dp({h:e}),a=Cp({h:e}),c=xp({h:e,hooks:t,options:s});return function({onError:d}){const l=t.useMemo(()=>({__html:Tp(s.styleNonce).innerText}),[]),f=t.useRef(null),h=t.useRef(null),p=t.useRef(null),_=t.useRef(null),[b,y]=t.useState("crop"),[E,I]=t.useState({startX:0,startY:0,endX:0,endY:0});t.useEffect(()=>(_e.addEventListener("resize",k),()=>{_e.removeEventListener("resize",k)}),[]);function x(g,m){const S=g.current;if(!S)return;S.width=m.width*Vt,S.height=m.height*Vt,S.style.width=`${m.width}px`,S.style.height=`${m.height}px`;const C=S.getContext("2d");C&&C.scale(Vt,Vt)}function k(){const g=Lp(n);x(_,g),x(p,g);const m=h.current;m&&(m.style.width=`${g.width}px`,m.style.height=`${g.height}px`),I({startX:0,startY:0,endX:g.width,endY:g.height})}return o({onBeforeScreenshot:t.useCallback(()=>{r.el.style.display="none"},[]),onScreenshot:t.useCallback(g=>{const m=n.getContext("2d");if(!m)throw new Error("Could not get canvas context");n.width=g.videoWidth,n.height=g.videoHeight,n.style.width="100%",n.style.height="100%",m.drawImage(g,0,0)},[n]),onAfterScreenshot:t.useCallback(()=>{r.el.style.display="block";const g=f.current;g==null||g.appendChild(n),k()},[]),onError:t.useCallback(g=>{r.el.style.display="block",d(g)},[])}),e("div",{class:"editor"},e("style",{nonce:s.styleNonce,dangerouslySetInnerHTML:l}),e("div",{class:"editor__image-container"},e("div",{class:"editor__canvas-container",ref:f},e(c,{action:b,imageBuffer:n,croppingRef:_,cropContainerRef:h,croppingRect:E,setCroppingRect:I,resize:k}),e(a,{action:b,imageBuffer:n,annotatingRef:p}))),s._experiments.annotations&&e(i,{action:b,setAction:y}))}}const Np=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:e,hooks:t,dialog:n,options:r})=>{const s=$.createElement("canvas");return{input:Op({h:e,hooks:t,imageBuffer:s,dialog:n,options:r}),value:async()=>{const o=await new Promise(i=>{s.toBlob(i,"image/png")});if(o)return{data:new Uint8Array(await o.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}}}}}),Fp=qh({getModalIntegration:()=>kp,getScreenshotIntegration:()=>Np});function Pp(e){const t={defaultIntegrations:[...Ao()],...e};return bo(t,"nuxt",["nuxt","vue"]),Hu(t)}console.log("client dsn: ",Ca().public.sentry.dsn);Pp({dsn:"https://e88b32b2db8229c9b7b693337bd60a12@o447951.ingest.us.sentry.io/4507486945738752",tracesSampleRate:1,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,integrations:[gh(),Fp({colorScheme:"system"})],environment:"test-env-123-client",debug:!0,beforeSend(e){return console.log("Event (server): ",e),e}});
