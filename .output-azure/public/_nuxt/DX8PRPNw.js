const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BVatJ78n.js","./ttXgE4so.js","./BhckzmUG.js","./D_DaALT7.js","./Bq4ei4sB.js"])))=>i.map(i=>d[i]);
import{by as _,aW as f,bz as $,bA as P,bB as C,bw as E}from"./ttXgE4so.js";import{h as d}from"./Bq4ei4sB.js";import{u as w}from"./D_DaALT7.js";(function(){try{var r=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new r.Error().stack;t&&(r._sentryDebugIds=r._sentryDebugIds||{},r._sentryDebugIds[t]="b3dfcaad-30ab-46ea-8eb0-cb58b1f2630f",r._sentryDebugIdIdentifier="sentry-dbid-b3dfcaad-30ab-46ea-8eb0-cb58b1f2630f")}catch{}})();const l=(r,t)=>t.split(".").reduce((n,i)=>n&&n[i],r),h=(r,t)=>Object.keys(r).filter(t).reduce((n,i)=>Object.assign(n,{[i]:r[i]}),{}),B=r=>t=>r&&r.length?h(t,n=>!r.includes(n)):t,T=r=>t=>Array.isArray(t)?t.map(n=>r(n)):r(t),g=r=>{const t=[],n=[];for(const i of r)["$","_"].includes(i)?t.push(i):n.push(i);return{prefixes:t,properties:n}},j=(r=[])=>t=>{if(r.length===0||!t)return t;const{prefixes:n,properties:i}=g(r);return h(t,s=>!i.includes(s)&&!n.includes(s[0]))},q=(r=[])=>t=>{if(r.length===0||!t)return t;const{prefixes:n,properties:i}=g(r);return h(t,s=>i.includes(s)||n.includes(s[0]))},Q=(r,t)=>{const n=new Intl.Collator(t.$locale,{numeric:t.$numeric,caseFirst:t.$caseFirst,sensitivity:t.$sensitivity}),i=Object.keys(t).filter(s=>!s.startsWith("$"));for(const s of i)r=r.sort((a,e)=>{const o=[l(a,s),l(e,s)].map(c=>{if(c!==null)return c instanceof Date?c.toISOString():c});return t[s]===-1&&o.reverse(),n.compare(o[0],o[1])});return r},F=(r,t="Expected an array")=>{if(!Array.isArray(r))throw new TypeError(t)},u=r=>Array.isArray(r)?r:[void 0,null].includes(r)?[]:[r],D=["sort","where","only","without"];function S(r,t={}){const n={};for(const e of Object.keys(t.initialParams||{}))n[e]=D.includes(e)?u(t.initialParams[e]):t.initialParams[e];const i=(e,o=c=>c)=>(...c)=>(n[e]=o(...c),a),s=e=>{var o;return t.legacy?e!=null&&e.surround?e.surround:e&&(e!=null&&e.dirConfig&&(e.result={_path:(o=e.dirConfig)==null?void 0:o._path,...e.result,_dir:e.dirConfig}),e!=null&&e._path||Array.isArray(e)||!Object.prototype.hasOwnProperty.call(e,"result")?e:e==null?void 0:e.result):e},a={params:()=>({...n,...n.where?{where:[...u(n.where)]}:{},...n.sort?{sort:[...u(n.sort)]}:{}}),only:i("only",u),without:i("without",u),where:i("where",e=>[...u(n.where),...u(e)]),sort:i("sort",e=>[...u(n.sort),...u(e)]),limit:i("limit",e=>parseInt(String(e),10)),skip:i("skip",e=>parseInt(String(e),10)),find:()=>r(a).then(s),findOne:()=>r(i("first")(!0)).then(s),count:()=>r(i("count")(!0)).then(s),locale:e=>a.where({_locale:e}),withSurround:i("surround",(e,o)=>({query:e,...o})),withDirConfig:()=>i("dirConfig")(!0)};return t.legacy&&(a.findSurround=(e,o)=>a.withSurround(e,o).find().then(s)),a}function m(r){return JSON.stringify(r,x)}function x(r,t){return t instanceof RegExp?`--REGEX ${t.toString()}`:t}const A=r=>{let t=m(r);return t=typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t),t=t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),(t.match(/.{1,100}/g)||[]).join("/")},y=r=>_(r,f().public.content.api.baseURL),U=()=>{throw console.warn("useContent is only accessible when you are using `documentDriven` mode."),console.warn("Learn more by visiting: https://content.nuxt.com/document-driven"),new Error("useContent is only accessible when you are using `documentDriven` mode.")},O=()=>{const{experimental:r}=f().public.content;return r.clientDB?!0:w().isEnabled()},v=()=>async r=>{const{content:t}=f().public,n=r.params(),i=t.experimental.stripQueryParameters?y(`/query/${`${d(n)}.${t.integrity}`}/${A(n)}.json`):y(`/query/${d(n)}.${t.integrity}.json`);if(O())return(await E(()=>import("./BVatJ78n.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url).then(e=>e.useContentDatabase())).fetch(r);const s=await $fetch(i,{method:"GET",responseType:"json",params:t.experimental.stripQueryParameters?void 0:{_params:m(n),previewToken:w().getPreviewToken()}});if(typeof s=="string"&&s.startsWith("<!DOCTYPE html>"))throw new Error("Not found");return s};function W(r,...t){const{content:n}=f().public,i=S(v(),{initialParams:typeof r!="string"?r:{},legacy:!0});let s;typeof r=="string"&&(s=$(P(r,...t)));const a=i.params;return i.params=()=>{var o,c,p;const e=a();return s&&(e.where=e.where||[],e.first&&(e.where||[]).length===0?e.where.push({_path:C(s)}):e.where.push({_path:new RegExp(`^${s.replace(/[-[\]{}()*+.,^$\s/]/g,"\\$&")}`)})),(o=e.sort)!=null&&o.length||(e.sort=[{_stem:1,$numeric:!0}]),n.locales.length&&((p=(c=e.where)==null?void 0:c.find(b=>b._locale))!=null&&p._locale||(e.where=e.where||[],e.where.push({_locale:n.defaultLocale}))),e},i}export{F as a,u as b,Q as c,T as d,A as e,j as f,l as g,q as h,S as i,m as j,B as o,W as q,O as s,U as u,y as w};
