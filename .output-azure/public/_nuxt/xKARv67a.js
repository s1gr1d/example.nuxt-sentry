import{h as q}from"./Bq4ei4sB.js";import{bd as x,be as I,bf as T,bg as r}from"./ttXgE4so.js";import{u as A}from"./CA_NoY9p.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},n=new e.Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="e2d0ab87-6c35-45c0-8d54-486c2ea05008",e._sentryDebugIdIdentifier="sentry-dbid-e2d0ab87-6c35-45c0-8d54-486c2ea05008")}catch{}})();function j(e,n,i){const[t={},u]=typeof n=="string"?[{},n]:[n,i],o=x(()=>r(e)),a=t.key||q([u,typeof o.value=="string"?o.value:"",...F(t)]);if(!a||typeof a!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+a);if(!e)throw new Error("[nuxt] [useFetch] request is missing.");const c=a===u?"$f"+a:a;if(!t.baseURL&&typeof o.value=="string"&&o.value[0]==="/"&&o.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:p,lazy:y,default:m,transform:g,pick:w,watch:d,immediate:D,getCachedData:v,deep:_,dedupe:E,...k}=t,h=I({...T,...k,cache:typeof t.cache=="boolean"?void 0:t.cache}),O={server:p,lazy:y,default:m,transform:g,pick:w,immediate:D,getCachedData:v,deep:_,dedupe:E,watch:d===!1?[]:[h,o,...d||[]]};let s;return A(c,()=>{var b;(b=s==null?void 0:s.abort)==null||b.call(s,new DOMException("Request aborted as another request to the same endpoint was initiated.","AbortError")),s=typeof AbortController<"u"?new AbortController:{};const l=r(t.timeout);let f;return l&&(f=setTimeout(()=>s.abort(new DOMException("Request aborted due to timeout.","AbortError")),l),s.signal.onabort=()=>clearTimeout(f)),(t.$fetch||globalThis.$fetch)(o.value,{signal:s.signal,...h}).finally(()=>{clearTimeout(f)})},O)}function F(e){var i;const n=[((i=r(e.method))==null?void 0:i.toUpperCase())||"GET",r(e.baseURL)];for(const t of[e.params||e.query]){const u=r(t);if(!u)continue;const o={};for(const[a,c]of Object.entries(u))o[r(a)]=r(c);n.push(o)}return n}export{j as u};
